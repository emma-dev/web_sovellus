{"version":3,"sources":["api/api.js","components/common/Preloader/preloader.module.css","hoc/withAuthRedirect.js","components/Navbar/Nav.module.css","components/Users/users.module.css","reportWebVitals.js","utils/validators/object-helpers.js","redux/users-reducer.js","components/common/Paginator/Paginator.js","components/Users/User.js","components/Users/Users.js","redux/users-selectors.js","components/Users/UsersContainer.jsx","redux/auth-reducer.js","assets/images/logo.png","components/Navbar/Nav.jsx","components/Navbar/NavContainer.jsx","components/Login/Login.jsx","redux/app-reducer.js","redux/nav-reducer.js","redux/redux-store.js","hoc/withSuspense.js","App.js","index.js","components/Login/Login.module.css","assets/images/loader_backinout.gif","components/common/Preloader/Preloader.js","components/common/FormsControls/FormControls.module.css","components/common/FormsControls/FormsControls.js","components/common/Paginator/Paginator.module.css","assets/images/Killjoy.png","utils/validators/validators.js","redux/profile-reducer.js","redux/dialogs-reducer.js"],"names":["instance","axios","withCredentials","baseURL","headers","usersAPI","getUsers","currentPage","pageSize","get","then","response","data","follow","userId","post","unfollow","delete","getProfile","console","warn","profileAPI","getStatus","updateStatus","status","put","savePhoto","photoFile","formData","FormData","append","authAPI","me","login","email","password","rememberMe","logout","module","exports","mapStateToPropsForRedirect","state","isAuth","auth","withAuthRedirect","Component","RedirectComponent","this","props","to","React","connect","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","updateObjectInArray","items","itemId","objectPropName","newObjProps","map","u","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","initialState","users","totalUsersCount","isFetching","followingInProgress","followSuccess","type","unfollowSuccess","setCurrentPage","toggleIsFetching","toggleFollowingProgress","followUnfollowFlow","dispatch","apiMethod","actionCreator","a","resultCode","usersReducer","action","followed","count","filter","id","Paginator","totalItemsCount","onPageChanged","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","className","styles","paginator","onClick","p","cn","selectedPage","pageNumber","e","User","user","home","userProfile","src","photos","small","userPhoto","text","name","followUnfollow","disabled","some","button","Users","getusersUsers","createSelector","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersContainer","Preloader","compose","bind","page","totalCount","SET_USER_DATA","setAuthUserData","payload","getAuthUserData","authReducer","Nav","classes","nav","header","photo","item","activeClassName","active","itemButton","NavContainer","LoginReduxForm","reduxForm","form","handleSubmit","error","onSubmit","formCard","Field","placeholder","component","Input","validate","required","formSummaryError","message","messages","length","stopSubmit","_error","formBack","img","rememnerMe","INITIALIZED_SUCCESS","initialized","appReducer","navReducer","reducers","combineReducers","profilePage","profileReducer","dialogsPage","dialogsReducer","sidebar","formReducer","app","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","__store__","withSuspense","fallback","DialogsContainer","lazy","ProfileContainer","App","initializeApp","path","render","AppContainer","withRouter","promise","Promise","all","WebSovellusJSApp","ReactDOM","document","getElementById","preloader","FormControl","input","meta","touched","children","hasError","formControl","Textarea","restProps","child","value","maxLengthCreator","maxLength","ADD_POST","SET_USER_PROFILE","SET_STATUS","DELETE_POST","SAVE_PHOTO_SUCCESS","posts","like","profile","addPostActionCreator","newPostText","setStatus","getUserProfile","file","newPost","SEND_MESSAGE","dialogs","sendMessageCreator","newMessageBody","body"],"mappings":"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","file":"static/js/main.b4355446.chunk.js","sourcesContent":["import * as axios from 'axios';\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    headers: { \"API-KEY\": \"008664cb-23c6-4b8d-9012-5ff37a31af39\" }\r\n});\r\n\r\nexport const usersAPI = {\r\n    getUsers(currentPage = 1, pageSize = 10) {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`).then(response => {\r\n            return response.data\r\n        });\r\n    },\r\n    follow(userId){\r\n    return  instance.post(`follow/${userId}`);\r\n    },\r\n    unfollow(userId){\r\n      return instance.delete(`follow/${userId}`);\r\n    },\r\n    getProfile(userId){\r\n        console.warn('Obsolete method. Please profileAPI object.')\r\n        return profileAPI.getProfile(userId);\r\n        }\r\n}\r\n\r\n\r\nexport const profileAPI = {\r\n    getProfile(userId){\r\n        return instance.get(`profile/` + userId);\r\n    },\r\n    getStatus (userId){\r\n        return instance.get(`profile/status/` + userId);\r\n    },\r\n    updateStatus(status){\r\n        return instance.put(`profile/status`, {status: status});\r\n    },\r\n    savePhoto(photoFile){\r\n        const formData = new FormData();\r\n        formData.append(\"image\", photoFile);\r\n        return instance.put(`profile/photo`, formData, {headers:{\r\n            'Content-Type': 'multipart/form-data'\r\n        }});\r\n    }\r\n}\r\n\r\n\r\n\r\nexport const authAPI = {\r\n    me() {\r\n        return instance.get(`auth/me`);\r\n    },\r\n    login(email, password, rememberMe = false) {\r\n        return instance.post(`auth/login`, { email, password, rememberMe });\r\n    },\r\n    logout() {\r\n        return instance.delete(`auth/login`);\r\n    }\r\n\r\n}\r\n\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloader\":\"preloader_preloader__BOwYE\"};","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nlet mapStateToPropsForRedirect = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n});\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if (!this.props.isAuth) return <Redirect to='/login' />\r\n\r\n            return <Component {...this.props} />\r\n\r\n        }\r\n    }\r\n\r\n    let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent);\r\n\r\n\r\n    return ConnectedAuthRedirectComponent;\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Nav_nav__3dC0x\",\"item\":\"Nav_item__2PRDz\",\"active\":\"Nav_active__pcpKv\",\"itemButton\":\"Nav_itemButton__1-S3H\",\"login\":\"Nav_login__25HI3\",\"header\":\"Nav_header__2mblf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userPhoto\":\"users_userPhoto__TfFrf\",\"home\":\"users_home__15FJj\",\"userProfile\":\"users_userProfile__3yWfo\",\"followUnfollow\":\"users_followUnfollow__11Nbq\",\"button\":\"users_button__26geI\",\"text\":\"users_text__1COFn\"};","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","export const updateObjectInArray = (items,itemId, objectPropName, newObjProps) => {\r\n  return items.map(u => {\r\n        if (u[objectPropName] === itemId) {\r\n            return { ...u, newObjProps}\r\n        }\r\n        return u;\r\n    })\r\n}","import { usersAPI } from '../api/api';\r\nimport { updateObjectInArray } from '../utils/validators/object-helpers';\r\nconst FOLLOW = 'FOLLOW';\r\nconst UNFOLLOW = 'UNFOLLOW';\r\nconst SET_USERS = 'SET_USERS';\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE';\r\nconst SET_TOTAL_USERS_COUNT = 'SET_TOTAL_USERS_COUNT';\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING';\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE_IS_FOLLOWING_PROGRESS';\r\n\r\nlet initialState = {\r\n    users: [],\r\n    pageSize: 1,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: true,\r\n    followingInProgress: []\r\n};\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, \"id\", {followed: true})\r\n            }\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                users:  updateObjectInArray(state.users, action.userId, \"id\", {followed: false})\r\n            }\r\n        case SET_USERS: {\r\n            return { ...state, users: action.users }\r\n        }\r\n        case SET_CURRENT_PAGE: {\r\n            return { ...state, currentPage: action.currentPage }\r\n        }\r\n        case SET_TOTAL_USERS_COUNT: {\r\n            return { ...state, totalUsersCount: action.count }\r\n        }\r\n\r\n        case TOGGLE_IS_FETCHING: {\r\n            return { ...state, isFetching: action.isFetching }\r\n        }\r\n\r\n        case TOGGLE_IS_FOLLOWING_PROGRESS: {\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.isFetching\r\n                    ? [...state.followingInProgress, action.userId]\r\n                    : state.followingInProgress.filter(id => id != action.userId)\r\n            }\r\n        }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\nexport const followSuccess = (userId) => ({ type: FOLLOW, userId })\r\nexport const unfollowSuccess = (userId) => ({ type: UNFOLLOW, userId })\r\nexport const setUsers = (users) => ({ type: SET_USERS, users })\r\nexport const setCurrentPage = (currentPage) => ({ type: SET_CURRENT_PAGE, currentPage })\r\nexport const setUsersTotalCount = (totalUsersCount) => ({ type: SET_TOTAL_USERS_COUNT, count: totalUsersCount })\r\nexport const toggleIsFetching = (isFetching) => ({ type: TOGGLE_IS_FETCHING, isFetching })\r\nexport const toggleFollowingProgress = (isFetching, userId) => ({ type: TOGGLE_IS_FOLLOWING_PROGRESS, isFetching, userId })\r\n\r\n\r\nexport const getUsers = (page, pageSize) => {\r\n    return async (dispatch) => {\r\n        dispatch(toggleIsFetching(true));\r\n        dispatch(setCurrentPage(page));\r\n        let data = await usersAPI.getUsers(page, pageSize);\r\n        dispatch(toggleIsFetching(false));\r\n        dispatch(setUsers(data.items));\r\n        dispatch(setUsersTotalCount(data.totalCount));\r\n\r\n    }\r\n}\r\n\r\n\r\nconst followUnfollowFlow =  async (dispatch, userId,apiMethod,actionCreator) => {\r\n    dispatch(toggleFollowingProgress(true, userId));\r\n    let response = await apiMethod(userId);\r\n\r\n    if (response.data.resultCode == 0) {\r\n        dispatch(actionCreator(userId));\r\n    }\r\n    dispatch(toggleFollowingProgress(false, userId));\r\n\r\n}\r\n\r\n\r\nexport const follow = (userId) => {\r\n    return async (dispatch) => {\r\n        followUnfollowFlow(dispatch,userId, usersAPI.follow.bind(usersAPI), followSuccess);\r\n    }\r\n}\r\n\r\nexport const unfollow = (userId) => {\r\n    return async (dispatch) => {\r\n        followUnfollowFlow(dispatch,userId, usersAPI.unfollow.bind(usersAPI), unfollowSuccess);\r\n\r\n    }\r\n}\r\n\r\n\r\nexport default usersReducer;","\r\nimport styles from '../Paginator/Paginator.module.css';\r\nimport React, { useState } from 'react';\r\nimport cn from 'classnames';\r\n\r\nlet Paginator = ({ totalItemsCount, pageSize, currentPage, onPageChanged, portionSize = 3 }) => {\r\n    let pagesCount = Math.ceil(totalItemsCount / pageSize);\r\n    let pages = [];\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i);\r\n    }\r\n\r\n\r\n    let portionCount = Math.ceil(pagesCount / portionSize);\r\n    let [portionNumber, setPortionNumber] = useState(1);\r\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n    let rightPortionPageNumber = portionNumber * portionSize;\r\n\r\n\r\n    return <div className={styles.paginator}>\r\n        {portionNumber > 1 &&\r\n            <button onClick={() => { setPortionNumber(portionNumber - 1) }}>PREV</button>}\r\n\r\n        {pages\r\n            .filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n            .map((p) => {\r\n                return <span className={cn({\r\n                    [styles.selectedPage]: currentPage === p\r\n                }, styles.pageNumber)}\r\n                    key={p}\r\n                    onClick={(e) => {\r\n                        onPageChanged(p);\r\n                    }}>{p}</span>\r\n            })}\r\n        {portionCount > portionNumber &&\r\n            <button onClick={() => { setPortionNumber(portionNumber + 1) }}>NEXT</button>}\r\n\r\n\r\n    </div>\r\n\r\n}\r\n\r\nexport default Paginator;","import React from 'react';\r\nimport styles from './users.module.css';\r\nimport userPhoto from '../../assets/images/Killjoy.png';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\n\r\n\r\nlet User = ({user,followingInProgress,unfollow,follow}) => {\r\n\r\n    return (<div className={styles.home}>\r\n                <span>\r\n                    <div className={styles.userProfile}>\r\n                        <NavLink to={'/profile/' + user.id}>\r\n                            <img src={user.photos.small != null ? user.photos.small : userPhoto} className={styles.userPhoto} />\r\n                        </NavLink>\r\n\r\n                        <span>\r\n                            <div className={styles.text}>\r\n                        <div>{user.name}</div>\r\n                        <div>{user.status}</div>\r\n                        </div>\r\n                    </span>\r\n\r\n                        <div className={styles.followUnfollow}>\r\n                    {user.followed\r\n                            ? <button disabled={followingInProgress\r\n                                .some(id => id === user.id)} onClick={() => {unfollow(user.id);}} className={styles.button}>Unfollow</button>\r\n                            : <button disabled={followingInProgress\r\n                                .some(id => id === user.id)} onClick={() => {follow(user.id);}} className={styles.button}>Follow</button>}\r\n                    </div>\r\n\r\n                    \r\n\r\n                    </div>\r\n                   \r\n                </span>\r\n\r\n            \r\n            </div>\r\n           )\r\n}\r\n\r\nexport default User;","import React from 'react';\r\nimport styles from './users.module.css';\r\nimport userPhoto from '../../assets/images/Killjoy.png';\r\nimport { NavLink } from 'react-router-dom';\r\nimport Paginator from '../common/Paginator/Paginator';\r\nimport User from './User';\r\n\r\n\r\nlet Users = ({currentPage,totalUsersCount,pageSize, onPageChanged,users,...props}) => {\r\n\r\n    return <div>\r\n    \r\n        \r\n        <div>\r\n        {\r\n           users.map(u => <User user={u} \r\n           followingInProgress = {props.followingInProgress}\r\n            unfollow={props.unfollow}\r\n            follow={props.follow}\r\n           key={u.id}/> \r\n               )\r\n\r\n        }\r\n\r\n        </div>\r\n        <Paginator currentPage={currentPage} \r\n        onPageChanged={onPageChanged}\r\n        totalItemsCount={totalUsersCount} \r\n        pageSize={pageSize}\r\n\r\n        />\r\n    </div>\r\n}\r\n\r\nexport default Users;","import { createSelector } from \"reselect\";\r\n\r\nexport const getUsersSelector = (state) => {\r\n    return state.usersPage.users;\r\n}\r\n\r\nexport const getusersUsers = createSelector (getUsersSelector, (users) => {\r\n  return users.filter(u => true);\r\n})\r\n\r\n\r\n\r\n\r\nexport const getPageSize = (state) => {\r\n    return state.usersPage.pageSize;\r\n}\r\n\r\nexport const getTotalUsersCount = (state) => {\r\n    return state.usersPage.totalUsersCount;\r\n}\r\nexport const getCurrentPage = (state) => {\r\n    return state.usersPage.currentPage;\r\n}\r\n\r\nexport const getIsFetching = (state) => {\r\n    return state.usersPage.isFetching;\r\n}\r\nexport const getFollowingInProgress = (state) => {\r\n    return state.usersPage.followingInProgress;\r\n}\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { follow, setCurrentPage, unfollow, toggleFollowingProgress, getUsers } from '../../redux/users-reducer';\r\nimport Users from './Users';\r\nimport Preloader from '../common/Preloader/Preloader';\r\nimport { compose } from 'redux';\r\nimport { withAuthRedirect } from '../../hoc/withAuthRedirect';\r\nimport {getFollowingInProgress, getPageSize, getTotalUsersCount,getCurrentPage, getIsFetching, getusersUsers} from '../../redux/users-selectors';\r\n\r\nclass UsersContainer extends React.Component {\r\n\r\n    componentDidMount() {\r\n\r\n        const {currentPage, pageSize} = this.props;\r\n        this.props.getUsers(currentPage, pageSize);\r\n    }\r\n\r\n    onPageChanged = (pageNumber) => {\r\n        const {pageSize} = this.props;\r\n        this.props.getUsers(pageNumber, pageSize);\r\n    }\r\n\r\n    render() {\r\n        return <>\r\n            {this.props.isFetching ? <Preloader /> : null}\r\n            <Users totalUsersCount={this.props.totalUsersCount}\r\n                pageSize={this.props.pageSize}\r\n                currentPage={this.props.currentPage}\r\n                onPageChanged={this.onPageChanged}\r\n                users={this.props.users}\r\n                follow={this.props.follow}\r\n                unfollow={this.props.unfollow}\r\n                followingInProgress={this.props.followingInProgress}\r\n            />\r\n        </>\r\n    }\r\n}\r\n\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        users: getusersUsers(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state)\r\n    }\r\n}\r\n\r\nexport default compose(\r\n   // withAuthRedirect,\r\n    connect(mapStateToProps, {\r\n        follow,\r\n        unfollow,\r\n        setCurrentPage,\r\n        toggleFollowingProgress,\r\n        getUsers\r\n\r\n    }))(UsersContainer);","import {authAPI} from '../api/api';\r\nimport { stopSubmit } from 'redux-form';\r\nconst SET_USER_DATA = 'web-sovellus/auth/SET_USER_DATA';\r\n\r\n\r\n\r\nlet initialState = {\r\n    userId: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n    switch(action.type) {\r\n        case SET_USER_DATA:\r\n            return {\r\n                ...state,\r\n                ...action.payload\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\nexport const setAuthUserData = (userId, email, login, isAuth) => ({ type: SET_USER_DATA, payload: { userId, email, login, isAuth } })\r\n\r\nexport const getAuthUserData = () => async (dispatch) => {\r\n    let response = await authAPI.me();\r\n\r\n    if (response.data.resultCode === 0) {\r\n        let { id, email, login } = response.data.data;\r\n        dispatch(setAuthUserData(id, email, login, true));\r\n    }\r\n\r\n}\r\n\r\nexport const login = (email, password, rememberMe) => async (dispatch) =>{\r\n\r\n    let response = await  authAPI.login(email,password,rememberMe);\r\n  \r\n        if(response.data.resultCode === 0){\r\n            dispatch(getAuthUserData());\r\n        }else{\r\n            let message =response.data.messages.length > 0  ? response.data.messages[0] : \"Some error\";\r\n            dispatch( stopSubmit(\"login\", {_error: message}));\r\n        }\r\n    \r\n}\r\n\r\nexport const logout = () => async (dispatch) =>{\r\n    let response = await  authAPI.logout();\r\n    \r\n        if(response.data.resultCode === 0){\r\n            dispatch(setAuthUserData(null,null,null, false));\r\n        }\r\n    \r\n}\r\n\r\n\r\nexport default authReducer;","export default __webpack_public_path__ + \"static/media/logo.549f01d3.png\";","import classes from './Nav.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\nimport photo from '../../assets/images/logo.png';\r\n\r\nconst Nav = (props) => {\r\n    return (\r\n<nav className={classes.nav}>\r\n\r\n<div className={classes.header}>\r\n<img src={photo}></img>\r\n</div>\r\n\r\n  <div className={classes.item}>\r\n    <NavLink to='/profile' activeClassName={classes.active}>Profile</NavLink>\r\n  </div>\r\n  <div className={classes.item}>\r\n    <NavLink to='/dialogs' activeClassName={classes.active}>Messages</NavLink>\r\n  </div>\r\n  <div className={classes.item}>\r\n    <NavLink to='/users' activeClassName={classes.active}>Users</NavLink>\r\n  </div>\r\n  <div className={classes.item}>\r\n    <a>News</a>\r\n  </div>\r\n  <div className={classes.item}>\r\n    <a>Music</a>\r\n  </div>\r\n\r\n  <div className={classes.item}>\r\n    <a>Settings</a>\r\n  </div>\r\n\r\n\r\n  <div className={classes.itemButton}>\r\n\r\n      {props.isAuth \r\n      ? <div>{props.login} - <button onClick={props.logout}>Log out</button></div> \r\n      : <NavLink to={'/login'} className={classes.login}>Sign In</NavLink> }\r\n\r\n    </div>\r\n</nav>\r\n\r\n\r\n    );\r\n}\r\n\r\nexport default Nav;","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {logout } from '../../redux/auth-reducer';\r\nimport Nav from './Nav';\r\n\r\nclass NavContainer extends React.Component{\r\n\r\n    render() {\r\n        return <Nav {...this.props} />\r\n    }\r\n}\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n    login:  state.auth.login\r\n\r\n});\r\n\r\nexport default connect(mapStateToProps, {logout}) (NavContainer);","import React from 'react';\r\nimport { Field, reduxForm } from 'redux-form';\r\nimport { createField, Input } from '../common/FormsControls/FormsControls';\r\nimport { maxLengthCreator, required } from '../../utils/validators/validators';\r\nimport { connect } from 'react-redux';\r\nimport {login} from \"../../redux/auth-reducer\"\r\nimport { Redirect } from 'react-router-dom';\r\nimport styles from './Login.module.css';\r\nimport photo from '../../assets/images/logo.png';\r\nimport classes from '../common/FormsControls/FormControls.module.css';\r\n\r\nconst LoginForm = ({handleSubmit, error }) => {\r\n\r\n    return (\r\n\r\n        <form  onSubmit={handleSubmit} className={styles.formCard}>\r\n        <div>\r\n            {/* {createField(\"Email\", \"email\", [required], Input)} */}\r\n           <Field className={styles.email} placeholder={\"Email\"} name={\"email\"} component={Input} validate={[required]}/>\r\n        </div>\r\n        <div>\r\n            <Field className={styles.email} placeholder={\"Password\"} name={\"password\"} type={\"password\"} component={Input} validate={[required]}/>\r\n        </div>\r\n        <div>\r\n            <Field  component={Input} name={\"rememberMe\"}type={\"checkbox\"} /> <h3>remember me</h3>\r\n        </div>\r\n        \r\n        {error && <div className={classes.formSummaryError}>\r\n                {error}\r\n        </div> \r\n        }\r\n        <div>\r\n            <button>Sign in</button>\r\n        </div>\r\n    </form>\r\n    )\r\n}\r\n\r\nconst LoginReduxForm = reduxForm({\r\n    // a unique name for form\r\n    form: 'login'\r\n})(LoginForm)\r\n\r\nconst Login = (props) => {\r\n    const onSubmit= (formData) =>{\r\n        props.login(formData.email, formData.password, formData.rememnerMe)\r\n    }\r\n\r\n    if(props.isAuth){\r\n        return <Redirect to={\"/profile\"} />\r\n    }\r\n    return <div className={styles.formBack}>  \r\n\r\n    <div className={styles.form}>\r\n        <div className={styles.img}>\r\n            <img src={photo}></img>\r\n        </div>\r\n   \r\n        <h1>Sign in.</h1>\r\n\r\n        <LoginReduxForm onSubmit={onSubmit} />\r\n\r\n    </div>\r\n    \r\n    </div>\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n})\r\n\r\nexport default connect(mapStateToProps, {login} ) (Login);","\r\nimport {getAuthUserData} from '../redux/auth-reducer';\r\n\r\nconst INITIALIZED_SUCCESS = 'INITIALIZED_SUCCESS';\r\n\r\n\r\nlet initialState = {\r\n    initialized: false\r\n};\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n    switch(action.type) {\r\n        case INITIALIZED_SUCCESS:\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\nexport const initializedSuccess = () => ({type: INITIALIZED_SUCCESS})\r\n\r\nexport const initializeApp = () => (dispatch) =>{\r\n   let promise = dispatch(getAuthUserData());\r\n    \r\n   Promise.all([promise]).then(() =>{\r\n\r\n    dispatch(initializedSuccess());\r\n\r\n});\r\n    \r\n}\r\n\r\nexport default appReducer;","\r\nlet initialState = {\r\n\r\n};\r\n\r\nconst navReducer = (state = initialState,action) =>{\r\n    return state;\r\n}\r\n\r\nexport default navReducer;","import {applyMiddleware, combineReducers, compose, createStore} from 'redux';\r\nimport profileReducer from './profile-reducer';\r\nimport dialogsReducer from './dialogs-reducer';\r\nimport navReducer from './nav-reducer';\r\nimport usersReducer from './users-reducer';\r\nimport authReducer from './auth-reducer';\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport {reducer as formReducer} from 'redux-form';\r\nimport appReducer from './app-reducer';\r\n\r\n\r\nlet reducers = combineReducers({\r\n    profilePage:  profileReducer,\r\n    dialogsPage: dialogsReducer,\r\n    sidebar: navReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app: appReducer\r\n});\r\n\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store= createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n\r\n// let store = createStore(reducers, applyMiddleware(thunkMiddleware));\r\n\r\nwindow.__store__ = store;\r\nexport default store;","import React, { Suspense } from \"react\";\r\nimport Preloader from \"../components/common/Preloader/Preloader\";\r\n\r\n\r\nexport const withSuspense = (Component) => {\r\n\r\n    return (props) => {\r\nreturn <Suspense  fallback={<Preloader />}>\r\n    <Component {...props} />\r\n    </Suspense>\r\n    };\r\n}","import './App.css';\nimport { HashRouter, Route, withRouter } from 'react-router-dom';\nimport React, { Suspense } from 'react';\nimport UsersContainer from './components/Users/UsersContainer';\nimport HeaderContainer from './components/Navbar/NavContainer';\nimport LoginPage from './components/Login/Login';\nimport { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { initializeApp, initialized } from './redux/app-reducer';\nimport { compose } from 'redux';\nimport Preloader from './components/common/Preloader/Preloader';\nimport { Provider } from 'react-redux';\nimport store from './redux/redux-store';\nimport { BrowserRouter } from \"react-router-dom\";\nimport { withSuspense } from './hoc/withSuspense';\n\n\nconst DialogsContainer =React.lazy(() => import ('./components/Dialogs/DialogsContainer'));\nconst ProfileContainer =React.lazy(() => import ('./components/Profile/ProfileContainer'));\n\nclass App extends Component {\n\n  componentDidMount() {\n    this.props.initializeApp();\n  }\n\n\n  render() {\n    if (!this.props.initialized) {\n      return <Preloader />\n    }\n\n\n    return (\n\n\n      <div className='app-wrapper'>\n\n        <HeaderContainer />\n\n        <div className='app-wrapper-content'>\n\n          <Route path='/dialogs' render={withSuspense(DialogsContainer) } />\n\n          <Route path='/profile/:userId?' render={withSuspense(ProfileContainer)} />\n\n          <Route path='/users' render={() => <UsersContainer />} />\n\n          <Route path='/login' render={() => <LoginPage />} />\n\n        </div>\n\n      </div>\n\n    );\n\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  initialized: state.app.initialized\n})\n\n\nconst AppContainer=  compose(\nwithRouter,\nconnect(mapStateToProps, { initializeApp }))(App);\n\nconst WebSovellusJSApp = (props) =>{\n  return <BrowserRouter>\n  <Provider store={store}>\n    <AppContainer />\n  </Provider>\n</BrowserRouter>\n}\n\nexport default WebSovellusJSApp;","\nimport reportWebVitals from './reportWebVitals';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport WebSovellusJSApp from './App';\n\n\n\nReactDOM.render(\n  <WebSovellusJSApp />, document.getElementById('root')\n);\n\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formBack\":\"Login_formBack__1ijlY\",\"form\":\"Login_form__1Ao0R\",\"img\":\"Login_img__1Uzq-\",\"formCard\":\"Login_formCard__tsSAW\",\"email\":\"Login_email__39LaY\"};","export default __webpack_public_path__ + \"static/media/loader_backinout.3e17615e.gif\";","import preloader from '../../../assets/images/loader_backinout.gif';\r\nimport styles from './preloader.module.css';\r\n\r\n\r\nlet Preloader = (props) => {\r\n    return <div>\r\n        <img src={preloader} className={styles.preloader}/>\r\n    </div>\r\n}\r\n\r\n\r\nexport default Preloader;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormControls_formControl__EDQ4Y\",\"error\":\"FormControls_error__W31wb\",\"formSummaryError\":\"FormControls_formSummaryError__1NvXo\"};","import React from 'react';\r\nimport styles from './FormControls.module.css';\r\n\r\n\r\nconst FormControl = ({ input, meta: {touched, error }, children }) => {\r\n    const hasError = touched && error;\r\n    return (\r\n        <div className={styles.formControl + \" \" + (hasError ? styles.error : \" \")}>\r\n            <div>\r\n                {children}\r\n            </div>\r\n            {hasError && <span>{error}</span>}\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Textarea = (props) => {\r\n\r\n    const { input, meta, child, ...restProps } = props;\r\n    return (<FormControl  {...props}><textarea {...input} {...restProps} /></FormControl>)\r\n}\r\n\r\nexport const Input = (props) => {\r\n    const { input, meta, child, ...restProps } = props;\r\n    return (<FormControl  {...props}><input {...input} {...restProps} /></FormControl>)\r\n}\r\n\r\n// export const createField = (placeholder, name, validators, component) => {\r\n    \r\n//     <Field className={styles.email} \r\n//     placeholder={placeholder} \r\n//     name={name} \r\n//     component={component} \r\n//     validate={validators}/>\r\n// }","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"Paginator_paginator__2h2AG\",\"pageNumber\":\"Paginator_pageNumber__zj9Gk\",\"selectedPage\":\"Paginator_selectedPage__1c_5N\"};","export default __webpack_public_path__ + \"static/media/Killjoy.f1d20e3b.png\";","export const required = value => {\r\n    if(value) return undefined;\r\n\r\n    return 'Field is required';\r\n   \r\n}\r\n\r\n\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n    if(value.length > maxLength) return `Max lenght is ${maxLength}  symbols`;\r\n    return undefined;\r\n}\r\n","import { profileAPI, usersAPI } from '../api/api';\r\n\r\nconst ADD_POST = 'ADD_POST';\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\r\nconst SET_STATUS = 'SET_STATUS';\r\nconst DELETE_POST = 'DELETE_POST';\r\nconst SAVE_PHOTO_SUCCESS = 'SAVE_PHOTO_SUCCESS';\r\n\r\n\r\nlet initialState = {\r\n        posts: [\r\n            { id: 1, message: 'Hi, how are you?', like: 12 },\r\n            { id: 2, message: 'It\\'s my first post', like: 15 }\r\n        ],\r\n        profile: null,\r\n        status: ''\r\n}\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n\r\n\r\n    switch (action.type) {\r\n\r\n        case ADD_POST: {\r\n            let newPost = {\r\n                id: 5,\r\n                message: action.newPostText,\r\n                like: 0\r\n            };\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, newPost],\r\n                newPostText: ''\r\n            };\r\n        }\r\n    \r\n        case SET_USER_PROFILE :{\r\n            return{\r\n                ...state,\r\n                profile: action.profile\r\n            };\r\n\r\n        }\r\n        case SET_STATUS:{\r\n            return{\r\n                ...state,\r\n                status: action.status\r\n            };\r\n        }\r\n\r\n        case DELETE_POST:{\r\n            return{\r\n                ...state,\r\n                posts: state.posts.filter( p => p.id != action.id)\r\n            };\r\n        }\r\n\r\n        case SAVE_PHOTO_SUCCESS:{\r\n            return{\r\n                ...state,\r\n                profile: {...state.profile, photos: action.photos}\r\n            };\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n\r\n}\r\n\r\nexport const addPostActionCreator = (newPostText) => ({ type: ADD_POST, newPostText })\r\nexport const setUserProfile = (profile) => ({type: SET_USER_PROFILE, profile })\r\nexport const setStatus = (status) => ({type: SET_STATUS, status })\r\nexport const deletePost = (postId) => ({type: DELETE_POST, postId })\r\nexport const savePhotoSuccess = (photos) => ({type: SAVE_PHOTO_SUCCESS, photos })\r\n\r\nexport const getUserProfile = (userId) => async (dispatch) =>{\r\n\r\n    let response = await usersAPI.getProfile(userId);\r\n       dispatch(setUserProfile(response.data));\r\n\r\n}\r\n\r\nexport const getStatus = (userId) => async (dispatch) =>{\r\n    let response = await  profileAPI.getStatus(userId);\r\n       dispatch(setStatus(response.data));\r\n\r\n}\r\n\r\nexport const updateStatus = (status) => async (dispatch) =>{\r\n    let response = await  profileAPI.updateStatus(status);\r\n        if (response.data.resultCode === 0){\r\n            dispatch(setStatus(status));\r\n        }\r\n}\r\nexport const savePhoto = (file) => async (dispatch) =>{\r\n    let response = await  profileAPI.savePhoto(file);\r\n        if (response.data.resultCode === 0){\r\n            dispatch(savePhotoSuccess(response.data.photos));\r\n        }\r\n}\r\n\r\n\r\nexport default profileReducer;","const SEND_MESSAGE = 'SEND-MESSAGE';\r\n\r\nlet initialState = {\r\n    dialogs: [\r\n\r\n        { id: 1, name: 'Jenifer' },\r\n        { id: 2, name: 'James' },\r\n        { id: 3, name: 'Leo' },\r\n        { id: 4, name: 'Amili' }\r\n\r\n    ],\r\n    messages: [\r\n\r\n        { id: 1, message: 'Hi' },\r\n        { id: 2, message: 'Could you recommend a good doctor?' },\r\n        { id: 3, message: 'How are you?' },\r\n        { id: 4, message: 'Hello!' }\r\n\r\n    ]\r\n}\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SEND_MESSAGE:\r\n            let body = action.newMessageBody;\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages, { id: 5, message: body } ]\r\n            \r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n\r\n\r\n}\r\n\r\n\r\nexport const sendMessageCreator = (newMessageBody) => ({ type: 'SEND-MESSAGE', newMessageBody })\r\n\r\nexport default dialogsReducer;"],"sourceRoot":""}