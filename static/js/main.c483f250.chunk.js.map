{"version":3,"sources":["api/api.js","components/common/Preloader/preloader.module.css","hoc/withAuthRedirect.js","components/Navbar/Nav.module.css","components/Users/users.module.css","reportWebVitals.js","utils/validators/object-helpers.js","redux/users-reducer.js","components/common/Paginator/Paginator.js","components/Users/User.js","components/Users/Users.js","redux/users-selectors.js","components/Users/UsersContainer.jsx","redux/auth-reducer.js","assets/images/logo.png","components/Navbar/Nav.jsx","components/Navbar/NavContainer.jsx","components/Login/Login.jsx","redux/app-reducer.js","redux/nav-reducer.js","redux/redux-store.js","hoc/withSuspense.js","App.js","index.js","components/Login/Login.module.css","components/common/FormsControls/FormsControls.js","assets/images/loader_backinout.gif","components/common/Preloader/Preloader.js","components/common/Paginator/Paginator.module.css","components/common/FormsControls/FormControls.module.css","utils/validators/validators.js","assets/images/Killjoy.png","redux/profile-reducer.js","redux/dialogs-reducer.js"],"names":["instance","axios","withCredentials","baseURL","headers","usersAPI","getUsers","currentPage","pageSize","get","then","response","data","follow","userId","post","unfollow","delete","getProfile","console","warn","profileAPI","getStatus","updateStatus","status","put","savePhoto","photoFile","formData","FormData","append","saveProfile","profile","authAPI","me","login","email","password","rememberMe","captcha","logout","securityAPI","getCaptchaUrl","module","exports","mapStateToPropsForRedirect","state","isAuth","auth","withAuthRedirect","Component","RedirectComponent","this","props","to","React","connect","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","updateObjectInArray","items","itemId","objectPropName","newObjProps","map","u","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","initialState","users","totalUsersCount","isFetching","followingInProgress","followSuccess","type","unfollowSuccess","setCurrentPage","toggleIsFetching","toggleFollowingProgress","followUnfollowFlow","dispatch","apiMethod","actionCreator","a","resultCode","usersReducer","action","followed","count","filter","id","Paginator","totalItemsCount","onPageChanged","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","className","styles","paginator","onClick","back","p","cn","selectedPage","pageNumber","e","next","User","user","home","userProfile","src","photos","small","userPhoto","text","name","followUnfollow","disabled","some","button","Users","getusersUsers","createSelector","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersContainer","Preloader","compose","bind","page","totalCount","SET_USER_DATA","GET_CAPTCHA_URL_SUCCESS","captchaUrl","setAuthUserData","payload","getCaptchaUrlSuccess","getAuthUserData","url","authReducer","Nav","classes","nav","header","photo","item","activeClassName","active","itemButton","NavContainer","LoginReduxForm","reduxForm","form","handleSubmit","error","onSubmit","formCard","Field","placeholder","component","Input","validate","required","createField","formSummaryError","message","messages","length","stopSubmit","_error","formBack","img","rememnerMe","INITIALIZED_SUCCESS","initialized","globalError","appReducer","navReducer","reducers","combineReducers","profilePage","profileReducer","dialogsPage","dialogsReducer","sidebar","formReducer","app","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","__store__","withSuspense","fallback","DialogsContainer","lazy","ProfileContainer","App","catchAllUnhandledErrors","reason","promise","alert","PromiseRejectionEvent","initializeApp","addEventListener","removeEventListener","exact","path","render","AppContainer","withRouter","Promise","all","WebSovellusJSApp","ReactDOM","document","getElementById","FormControl","input","meta","touched","children","hasError","formControl","Textarea","restProps","child","validators","preloader","value","maxLengthCreator","maxLength","ADD_POST","SET_USER_PROFILE","SET_STATUS","DELETE_POST","SAVE_PHOTO_SUCCESS","posts","like","addPostActionCreator","newPostText","setStatus","getUserProfile","file","getState","reject","newPost","SEND_MESSAGE","dialogs","sendMessageCreator","newMessageBody","body"],"mappings":"uGAAA,qJAEMA,EAAWC,SAAa,CAC1BC,iBAAiB,EACjBC,QAAS,gDACTC,QAAS,CAAE,UAAW,0CAGbC,EAAW,CACpBC,SADoB,WACsB,IAAjCC,EAAgC,uDAAlB,EAAGC,EAAe,uDAAJ,GACjC,OAAOR,EAASS,IAAT,qBAA2BF,EAA3B,kBAAgDC,IAAYE,MAAK,SAAAC,GACpE,OAAOA,EAASC,SAGxBC,OANoB,SAMbC,GACP,OAAQd,EAASe,KAAT,iBAAwBD,KAEhCE,SAToB,SASXF,GACP,OAAOd,EAASiB,OAAT,iBAA0BH,KAEnCI,WAZoB,SAYTJ,GAEP,OADAK,QAAQC,KAAK,8CACNC,EAAWH,WAAWJ,KAKxBO,EAAa,CACtBH,WADsB,SACXJ,GACP,OAAOd,EAASS,IAAI,WAAaK,IAErCQ,UAJsB,SAIXR,GACP,OAAOd,EAASS,IAAI,kBAAoBK,IAE5CS,aAPsB,SAOTC,GACT,OAAOxB,EAASyB,IAAT,iBAA+B,CAACD,OAAQA,KAEnDE,UAVsB,SAUZC,GACN,IAAMC,EAAW,IAAIC,SAErB,OADAD,EAASE,OAAO,QAASH,GAClB3B,EAASyB,IAAT,gBAA8BG,EAAU,CAACxB,QAAQ,CACpD,eAAgB,0BAGxB2B,YAjBsB,SAiBVC,GACR,OAAOhC,EAASyB,IAAT,UAAwBO,KAM1BC,EAAU,CACnBC,GADmB,WAEf,OAAOlC,EAASS,IAAT,YAEX0B,MAJmB,SAIbC,EAAOC,GAA8C,IAApCC,EAAmC,wDAAfC,EAAe,uDAAN,KAChD,OAAOvC,EAASe,KAAT,aAA4B,CAAEqB,QAAOC,WAAUC,aAAYC,aAEtEC,OAPmB,WAQf,OAAOxC,EAASiB,OAAT,gBAKFwB,EAAc,CACvBC,cADuB,WAEnB,OAAO1C,EAASS,IAAT,+B,oBCjEfkC,EAAOC,QAAU,CAAC,UAAY,+B,oJCG1BC,EAA6B,SAACC,GAAD,MAAY,CACzCC,OAAQD,EAAME,KAAKD,SAGVE,EAAmB,SAACC,GAAe,IAEtCC,EAFqC,4JAGvC,WACI,OAAKC,KAAKC,MAAMN,OAET,cAACG,EAAD,eAAeE,KAAKC,QAFI,cAAC,IAAD,CAAUC,GAAG,eAJT,GAEXC,IAAML,WAYtC,OAHqCM,YAAQX,EAARW,CAAoCL,K,mBClB7ER,EAAOC,QAAU,CAAC,IAAM,iBAAiB,KAAO,kBAAkB,OAAS,oBAAoB,WAAa,wBAAwB,MAAQ,mBAAmB,OAAS,sB,+DCAxKD,EAAOC,QAAU,CAAC,UAAY,yBAAyB,KAAO,oBAAoB,YAAc,2BAA2B,eAAiB,8BAA8B,OAAS,sBAAsB,KAAO,sB,wCCDhN,IAYea,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,8BAAqBjD,MAAK,YAAkD,IAA/CkD,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,O,iJCPDO,EAAsB,SAACC,EAAMC,EAAQC,EAAgBC,GAChE,OAAOH,EAAMI,KAAI,SAAAC,GACX,OAAIA,EAAEH,KAAoBD,EACf,2BAAKI,GAAZ,IAAeF,gBAEZE,MCHTC,EAAS,SACTC,EAAW,WACXC,EAAY,YACZC,EAAmB,mBACnBC,EAAwB,wBACxBC,EAAqB,qBACrBC,EAA+B,+BAEjCC,EAAe,CACfC,MAAO,GACPxE,SAAU,EACVyE,gBAAiB,EACjB1E,YAAa,EACb2E,YAAY,EACZC,oBAAqB,IA4CZC,EAAgB,SAACtE,GAAD,MAAa,CAAEuE,KAAMb,EAAQ1D,WAC7CwE,EAAkB,SAACxE,GAAD,MAAa,CAAEuE,KAAMZ,EAAU3D,WAEjDyE,EAAiB,SAAChF,GAAD,MAAkB,CAAE8E,KAAMV,EAAkBpE,gBAE7DiF,EAAmB,SAACN,GAAD,MAAiB,CAAEG,KAAMR,EAAoBK,eAChEO,EAA0B,SAACP,EAAYpE,GAAb,MAAyB,CAAEuE,KAAMP,EAA8BI,aAAYpE,WAgB5G4E,EAAkB,uCAAI,WAAOC,EAAU7E,EAAO8E,EAAUC,GAAlC,SAAAC,EAAA,6DACxBH,EAASF,GAAwB,EAAM3E,IADf,SAEH8E,EAAU9E,GAFP,OAIQ,GAJR,OAIXF,KAAKmF,YACdJ,EAASE,EAAc/E,IAE3B6E,EAASF,GAAwB,EAAO3E,IAPhB,2CAAJ,4DA0BTkF,EAzFM,WAAmC,IAAlClD,EAAiC,uDAAzBiC,EAAckB,EAAW,uCACnD,OAAQA,EAAOZ,MACX,KAAKb,EACD,OAAO,2BACA1B,GADP,IAEIkC,MAAOf,EAAoBnB,EAAMkC,MAAOiB,EAAOnF,OAAQ,KAAM,CAACoF,UAAU,MAEhF,KAAKzB,EACD,OAAO,2BACA3B,GADP,IAEIkC,MAAQf,EAAoBnB,EAAMkC,MAAOiB,EAAOnF,OAAQ,KAAM,CAACoF,UAAU,MAEjF,KAAKxB,EACD,OAAO,2BAAK5B,GAAZ,IAAmBkC,MAAOiB,EAAOjB,QAErC,KAAKL,EACD,OAAO,2BAAK7B,GAAZ,IAAmBvC,YAAa0F,EAAO1F,cAE3C,KAAKqE,EACD,OAAO,2BAAK9B,GAAZ,IAAmBmC,gBAAiBgB,EAAOE,QAG/C,KAAKtB,EACD,OAAO,2BAAK/B,GAAZ,IAAmBoC,WAAYe,EAAOf,aAG1C,KAAKJ,EACD,OAAO,2BACAhC,GADP,IAEIqC,oBAAqBc,EAAOf,WAAP,sBACXpC,EAAMqC,qBADK,CACgBc,EAAOnF,SACtCgC,EAAMqC,oBAAoBiB,QAAO,SAAAC,GAAE,OAAIA,GAAMJ,EAAOnF,YAIlE,QACI,OAAOgC,I,2FCbJwD,EArCC,SAAC,GAGb,IAH6F,IAA9EC,EAA6E,EAA7EA,gBAAiB/F,EAA4D,EAA5DA,SAAUD,EAAkD,EAAlDA,YAAaiG,EAAqC,EAArCA,cAAqC,IAAtBC,mBAAsB,MAAR,EAAQ,EACxFC,EAAaC,KAAKC,KAAKL,EAAkB/F,GACzCqG,EAAQ,GACHC,EAAI,EAAGA,GAAKJ,EAAYI,IAC7BD,EAAME,KAAKD,GAIf,IAAIE,EAAeL,KAAKC,KAAKF,EAAaD,GARkD,EASpDQ,mBAAS,GAT2C,mBASvFC,EATuF,KASxEC,EATwE,KAUxFC,GAAyBF,EAAgB,GAAKT,EAAc,EAC5DY,EAAyBH,EAAgBT,EAG7C,OAAO,sBAAKa,UAAWC,IAAOC,UAAvB,UACFN,EAAgB,GACb,wBAAQO,QAAS,WAAQN,EAAiBD,EAAgB,IAAMI,UAAWC,IAAOG,KAAlF,kBAEHb,EACIT,QAAO,SAAAuB,GAAC,OAAIA,GAAKP,GAAyBO,GAAKN,KAC/C/C,KAAI,SAACqD,GACF,OAAO,sBAAML,UAAWM,IAAG,eACtBL,IAAOM,aAAetH,IAAgBoH,GACxCJ,IAAOO,YAENL,QAAS,SAACM,GACNvB,EAAcmB,IALf,SAMCA,GAHCA,MAKhBX,EAAeE,GACZ,wBAAQO,QAAS,WAAQN,EAAiBD,EAAgB,IAAMI,UAAWC,IAAOS,KAAlF,sB,QCOGC,EAnCJ,SAAC,GAAgD,IAA/CC,EAA8C,EAA9CA,KAAK/C,EAAyC,EAAzCA,oBAAoBnE,EAAqB,EAArBA,SAASH,EAAY,EAAZA,OAE3C,OAAQ,qBAAKyG,UAAWC,IAAOY,KAAvB,SACI,+BACI,sBAAKb,UAAWC,IAAOa,YAAvB,UACI,cAAC,IAAD,CAAS9E,GAAI,YAAc4E,EAAK7B,GAAhC,SACI,qBAAKgC,IAA0B,MAArBH,EAAKI,OAAOC,MAAgBL,EAAKI,OAAOC,MAAQC,IAAWlB,UAAWC,IAAOiB,cAG3F,+BACI,sBAAKlB,UAAWC,IAAOkB,KAAvB,UACJ,8BAAMP,EAAKQ,OACX,8BAAMR,EAAK1G,cAIX,qBAAK8F,UAAWC,IAAOoB,eAAvB,SACHT,EAAKhC,SACI,wBAAQ0C,SAAUzD,EACf0D,MAAK,SAAAxC,GAAE,OAAIA,IAAO6B,EAAK7B,MAAKoB,QAAS,WAAOzG,EAASkH,EAAK7B,KAAOiB,UAAWC,IAAOuB,OADtF,sBAEA,wBAAQF,SAAUzD,EACf0D,MAAK,SAAAxC,GAAE,OAAIA,IAAO6B,EAAK7B,MAAKoB,QAAS,WAAO5G,EAAOqH,EAAK7B,KAAOiB,UAAWC,IAAOuB,OADpF,8BCQfC,EA3BH,SAAC,GAA0E,IAAzExI,EAAwE,EAAxEA,YAAY0E,EAA4D,EAA5DA,gBAAgBzE,EAA4C,EAA5CA,SAAUgG,EAAkC,EAAlCA,cAAcxB,EAAoB,EAApBA,MAAS3B,EAAW,oFAElF,OAAO,8BAGH,gCAEG2B,EAAMV,KAAI,SAAAC,GAAC,OAAI,cAAC,EAAD,CAAM2D,KAAM3D,EAC3BY,oBAAuB9B,EAAM8B,oBAC5BnE,SAAUqC,EAAMrC,SAChBH,OAAQwC,EAAMxC,QACV0D,EAAE8B,OAIjB,cAAC,EAAD,CAAW9F,YAAaA,EACjBiG,cAAeA,EACfD,gBAAiBtB,EACjBzE,SAAUA,U,kCCpBLwI,GAAgBC,aAJG,SAACnG,GAC7B,OAAOA,EAAMoG,UAAUlE,SAGoC,SAACA,GAC9D,OAAOA,EAAMoB,QAAO,SAAA7B,GAAC,OAAI,QAMd4E,GAAc,SAACrG,GACxB,OAAOA,EAAMoG,UAAU1I,UAGd4I,GAAqB,SAACtG,GAC/B,OAAOA,EAAMoG,UAAUjE,iBAEdoE,GAAiB,SAACvG,GAC3B,OAAOA,EAAMoG,UAAU3I,aAGd+I,GAAgB,SAACxG,GAC1B,OAAOA,EAAMoG,UAAUhE,YAEdqE,GAAyB,SAACzG,GACnC,OAAOA,EAAMoG,UAAU/D,qBCnBrBqE,G,4MAQFhD,cAAgB,SAACsB,GAAgB,IACtBtH,EAAY,EAAK6C,MAAjB7C,SACP,EAAK6C,MAAM/C,SAASwH,EAAYtH,I,uDARpC,WAAqB,IAAD,EAEgB4C,KAAKC,MAA9B9C,EAFS,EAETA,YAAaC,EAFJ,EAEIA,SACpB4C,KAAKC,MAAM/C,SAASC,EAAaC,K,oBAQrC,WACI,OAAO,qCACF4C,KAAKC,MAAM6B,WAAa,cAACuE,EAAA,EAAD,IAAgB,KACzC,cAAC,EAAD,CAAOxE,gBAAiB7B,KAAKC,MAAM4B,gBAC/BzE,SAAU4C,KAAKC,MAAM7C,SACrBD,YAAa6C,KAAKC,MAAM9C,YACxBiG,cAAepD,KAAKoD,cACpBxB,MAAO5B,KAAKC,MAAM2B,MAClBnE,OAAQuC,KAAKC,MAAMxC,OACnBG,SAAUoC,KAAKC,MAAMrC,SACrBmE,oBAAqB/B,KAAKC,MAAM8B,6B,GAvBnB5B,IAAML,WA0CpBwG,eAEXlG,aAbkB,SAACV,GACnB,MAAO,CACHkC,MAAOgE,GAAclG,GACrBtC,SAAU2I,GAAYrG,GACtBmC,gBAAiBmE,GAAmBtG,GACpCvC,YAAa8I,GAAevG,GAC5BoC,WAAYoE,GAAcxG,GAC1BqC,oBAAqBoE,GAAuBzG,MAMvB,CACrBjC,OLwCc,SAACC,GACnB,8CAAO,WAAO6E,GAAP,SAAAG,EAAA,sDACHJ,EAAmBC,EAAS7E,EAAQT,IAASQ,OAAO8I,KAAKtJ,KAAW+E,GADjE,2CAAP,uDKxCIpE,SL6CgB,SAACF,GACrB,8CAAO,WAAO6E,GAAP,SAAAG,EAAA,sDACHJ,EAAmBC,EAAS7E,EAAQT,IAASW,SAAS2I,KAAKtJ,KAAWiF,GADnE,2CAAP,uDK7CIC,iBACAE,0BACAnF,SLWgB,SAACsJ,EAAMpJ,GAC3B,8CAAO,WAAOmF,GAAP,eAAAG,EAAA,6DACHH,EAASH,GAAiB,IAC1BG,EAASJ,EAAeqE,IAFrB,SAGcvJ,IAASC,SAASsJ,EAAMpJ,GAHtC,OAGCI,EAHD,OAIH+E,EAASH,GAAiB,IAC1BG,GAbiBX,EAaCpE,EAAKsD,MAbK,CAAEmB,KAAMX,EAAWM,WAc/CW,GAZ2BV,EAYCrE,EAAKiJ,WAZe,CAAExE,KAAMT,EAAuBuB,MAAOlB,KAMnF,iCANuB,IAACA,EAFVD,IAQd,OAAP,yDKnBW0E,CASPF,I,SC1DFM,GAAgB,kCAChBC,GAA0B,4CAG5BhF,GAAe,CACfjE,OAAQ,KACRsB,MAAO,KACPD,MAAO,KACPY,QAAQ,EACRiH,WAAY,MAkBHC,GAAkB,SAACnJ,EAAQsB,EAAOD,EAAOY,GAAvB,MAAmC,CAAEsC,KAAMyE,GAAeI,QAAS,CAAEpJ,SAAQsB,QAAOD,QAAOY,YAC7GoH,GAAuB,SAACH,GAAD,MAAiB,CAAE3E,KAAM0E,GAAyBG,QAAS,CAAEF,gBACpFI,GAAkB,yDAAM,WAAOzE,GAAP,uBAAAG,EAAA,sEACZ7D,IAAQC,KADI,OAGA,KAF7BvB,EAD6B,QAGpBC,KAAKmF,aAAmB,EACNpF,EAASC,KAAKA,KAAnCyF,EAD0B,EAC1BA,GAAIjE,EADsB,EACtBA,MAAOD,EADe,EACfA,MACjBwD,EAASsE,GAAgB5D,EAAIjE,EAAOD,GAAO,KALd,2CAAN,uDA2BlBO,GAAgB,yDAAM,WAAOiD,GAAP,iBAAAG,EAAA,sEAEVrD,IAAYC,gBAFF,OAE3B/B,EAF2B,OAGzBqJ,EAAarJ,EAASC,KAAKyJ,IACjC1E,EAASwE,GAAqBH,IAJC,2CAAN,uDAoBdM,GAhEK,WAAmC,IAAlCxH,EAAiC,uDAAzBiC,GAAckB,EAAW,uCAClD,OAAOA,EAAOZ,MACV,KAAKyE,GACD,KAAKC,GACL,OAAO,2BACAjH,GACAmD,EAAOiE,SAGlB,QACI,OAAOpH,I,oBCxBJ,OAA0B,iCC8C1ByH,GA1CH,SAAClH,GACT,OACJ,sBAAKiE,UAAWkD,KAAQC,IAAxB,UAEA,qBAAKnD,UAAWkD,KAAQE,OAAxB,SACA,qBAAKrC,IAAKsC,OAGR,qBAAKrD,UAAWkD,KAAQI,KAAxB,SACE,cAAC,IAAD,CAAStH,GAAG,WAAWuH,gBAAiBL,KAAQM,OAAhD,uBAEF,qBAAKxD,UAAWkD,KAAQI,KAAxB,SACE,cAAC,IAAD,CAAStH,GAAG,WAAWuH,gBAAiBL,KAAQM,OAAhD,wBAEF,qBAAKxD,UAAWkD,KAAQI,KAAxB,SACE,cAAC,IAAD,CAAStH,GAAG,SAASuH,gBAAiBL,KAAQM,OAA9C,qBAEF,qBAAKxD,UAAWkD,KAAQI,KAAxB,SACE,uCAEF,qBAAKtD,UAAWkD,KAAQI,KAAxB,SACE,wCAGF,qBAAKtD,UAAWkD,KAAQI,KAAxB,SACE,2CAIF,qBAAKtD,UAAWkD,KAAQO,WAAxB,SAEK1H,EAAMN,OACL,gCAAMM,EAAMlB,MAAZ,MAAqB,wBAAQsF,QAASpE,EAAMb,OAAvB,wBACrB,cAAC,IAAD,CAASc,GAAI,SAAUgE,UAAWkD,KAAQrI,MAA1C,2BChCF6I,G,4JAEF,WACI,OAAO,cAAC,GAAD,eAAS5H,KAAKC,Y,GAHFE,IAAML,WAYlBM,gBANS,SAACV,GAAD,MAAY,CAChCC,OAAQD,EAAME,KAAKD,OACnBZ,MAAQW,EAAME,KAAKb,SAIiB,CAACK,OHmDnB,yDAAM,WAAOmD,GAAP,SAAAG,EAAA,sEACF7D,IAAQO,SADN,OAGY,IAHZ,OAGR5B,KAAKmF,YACbJ,EAASsE,GAAgB,KAAK,KAAK,MAAM,IAJzB,2CAAN,wDGnDPzG,CAAoCwH,I,6ECyB7CC,GAAiBC,aAAU,CAE7BC,KAAM,SAFaD,EA/BL,SAAC,GAAwC,IAAvCE,EAAsC,EAAtCA,aAAcC,EAAwB,EAAxBA,MAAOrB,EAAiB,EAAjBA,WAErC,OAEI,uBAAOsB,SAAUF,EAAc9D,UAAWC,KAAOgE,SAAjD,UACA,8BAEG,cAACC,GAAA,EAAD,CAAOlE,UAAWC,KAAOnF,MAAOqJ,YAAa,QAAS/C,KAAM,QAASgD,UAAWC,KAAOC,SAAU,CAACC,UAErG,8BACI,cAACL,GAAA,EAAD,CAAOlE,UAAWC,KAAOnF,MAAOqJ,YAAa,WAAY/C,KAAM,WAAYrD,KAAM,WAAYqG,UAAWC,KAAOC,SAAU,CAACC,UAE9H,gCACI,cAACL,GAAA,EAAD,CAAQE,UAAWC,KAAOjD,KAAM,aAAarD,KAAM,aADvD,IACsE,gDAErE2E,GAAc,qBAAK3B,IAAK2B,IAExBA,GAAe8B,aAAY,qBAAsB,UAAW,CAACD,MAAWF,KAAO,IAG/EN,GAAS,qBAAK/D,UAAWkD,KAAQuB,iBAAxB,SACDV,IAGT,8BACI,qDAwCG7H,gBALS,SAACV,GAAD,MAAY,CAChCkH,WAAYlH,EAAME,KAAKgH,WACvBjH,OAAQD,EAAME,KAAKD,UAGiB,CAACZ,MJnCpB,SAACC,EAAOC,EAAUC,EAAYC,GAA9B,8CAA0C,WAAOoD,GAAP,iBAAAG,EAAA,sEAErC7D,IAAQE,MAAMC,EAAMC,EAASC,EAAYC,GAFJ,OAIvB,KAFhC5B,EAFuD,QAI3CC,KAAKmF,WACbJ,EAASyE,OAEwB,KAA7BzJ,EAASC,KAAKmF,YACVJ,EAASjD,MAGbsJ,EAASrL,EAASC,KAAKqL,SAASC,OAAS,EAAKvL,EAASC,KAAKqL,SAAS,GAAK,aAC9EtG,EAAUwG,aAAW,QAAS,CAACC,OAAQJ,MAZY,2CAA1C,wDImCNxI,EA7BD,SAACH,GAKX,OAAGA,EAAMN,OACE,cAAC,IAAD,CAAUO,GAAI,aAElB,qBAAKgE,UAAWC,KAAO8E,SAAvB,SAEP,sBAAK/E,UAAWC,KAAO4D,KAAvB,UACI,qBAAK7D,UAAWC,KAAO+E,IAAvB,SACI,qBAAKjE,IAAKsC,OAGd,0CAEA,cAACM,GAAD,CAAgBK,SAhBJ,SAAC1J,GACbyB,EAAMlB,MAAMP,EAASQ,MAAOR,EAASS,SAAUT,EAAS2K,WAAY3K,EAASW,UAezCyH,WAAY3G,EAAM2G,qBC7DxDwC,GAAsB,sBAGxBzH,GAAe,CACf0H,aAAa,EACbC,YAAa,MA6BFC,GA1BI,WAAmC,IAAlC7J,EAAiC,uDAAzBiC,GAAckB,EAAW,uCACjD,OAAOA,EAAOZ,MACV,KAAKmH,GACD,OAAO,2BACA1J,GADP,IAEI2J,aAAa,IAErB,QACI,OAAO3J,I,kBClBfiC,GAAe,GAQJ6H,GAJI,WAAiC,IAAhC9J,EAA+B,uDAAvBiC,GACxB,OAAOjC,G,oBCKP+J,GAAWC,YAAgB,CAC3BC,YAAcC,KACdC,YAAaC,KACbC,QAASP,GACT1D,UAAWlD,EACXhD,KAAMsH,GACNa,KAAMiC,KACNC,IAAKV,KAIHW,GAAmBC,OAAOC,sCAAwC9D,IAClE+D,GAAOC,YAAYb,GAAUS,GAAiBK,YAAgBC,QAIpEL,OAAOM,UAAYJ,GACJA,UCxBFK,GAAe,SAAC5K,GAEzB,OAAO,SAACG,GACZ,OAAO,cAAC,WAAD,CAAW0K,SAAU,cAACtE,EAAA,EAAD,IAArB,SACH,cAACvG,EAAD,eAAeG,QCUb2K,GAAkBzK,IAAM0K,MAAK,kBAAM,iCACnCC,GAAkB3K,IAAM0K,MAAK,kBAAM,iCAEnCE,G,4MACNC,wBAA0B,SAACC,EAAQC,GACjCC,MAAM,sBACNpN,QAAQkK,MAAMmD,wB,uDAEd,WACEpL,KAAKC,MAAMoL,gBACXlB,OAAOmB,iBAAiB,qBAAsBtL,KAAKgL,2B,kCAEvD,WACEb,OAAOoB,oBAAoB,qBAAsBvL,KAAKgL,2B,oBAGtD,WACE,OAAKhL,KAAKC,MAAMoJ,YAQd,sBAAKnF,UAAU,cAAf,UAEE,cAAC,GAAD,IAEA,qBAAKA,UAAU,sBAAf,SACE,eAAC,IAAD,WAEA,cAAC,IAAD,CAAOsH,OAAK,EAACC,KAAK,IAAIC,OAAQ,kBAAM,cAAC,IAAD,CAAUxL,GAAI,gBAElD,cAAC,IAAD,CAAOuL,KAAK,WAAWC,OAAQhB,GAAaE,MAE5C,cAAC,IAAD,CAAOa,KAAK,oBAAoBC,OAAQhB,GAAaI,MAErD,cAAC,IAAD,CAAOW,KAAK,SAASC,OAAQ,kBAAM,cAAC,GAAD,OAEnC,cAAC,IAAD,CAAOD,KAAK,SAASC,OAAQ,kBAAM,cAAC,GAAD,OAEnC,cAAC,IAAD,CAAOD,KAAK,IAAIC,OAAQ,kBAAM,2DAxB3B,cAACrF,EAAA,EAAD,Q,GAfKvG,aAuDZ6L,GAAerF,YACrBsF,IACAxL,aAPwB,SAACV,GAAD,MAAY,CAClC2J,YAAa3J,EAAMuK,IAAIZ,eAMA,CAAEgC,cJpDE,kBAAM,SAAC9I,GACjC,IAAI2I,EAAU3I,EAASyE,MAEvB6E,QAAQC,IAAI,CAACZ,IAAU5N,MAAK,WAE3BiF,EAPqC,CAACN,KAAMmH,YIoD3B9C,CAEwByE,IAU9BgB,GARU,SAAC9L,GACxB,OAAO,cAAC,IAAD,UACP,cAAC,IAAD,CAAUoK,MAAOA,GAAjB,SACE,cAACsB,GAAD,SC1EJK,IAASN,OACP,cAAC,GAAD,IAAsBO,SAASC,eAAe,SAOhD7L,K,mBChBAd,EAAOC,QAAU,CAAC,SAAW,wBAAwB,KAAO,oBAAoB,IAAM,mBAAmB,SAAW,wBAAwB,MAAQ,uB,gMCI9I2M,EAAc,SAAC,GAAiD,EAA/CC,MAAgD,IAAD,IAAxCC,KAAOC,EAAiC,EAAjCA,QAASrE,EAAwB,EAAxBA,MAASsE,EAAe,EAAfA,SAC7CC,EAAWF,GAAWrE,EAC5B,OACI,sBAAK/D,UAAWC,IAAOsI,YAAc,KAAOD,EAAWrI,IAAO8D,MAAQ,KAAtE,UACI,8BACKsE,IAEJC,GAAY,+BAAOvE,QAMnByE,EAAW,SAACzM,GAAW,IAExBmM,EAAqCnM,EAArCmM,MAAuBO,GAAc1M,EAA9BoM,KAA8BpM,EAAxB2M,MAFU,YAEc3M,EAFd,2BAG/B,OAAQ,cAACkM,EAAD,2BAAkBlM,GAAlB,aAAyB,oDAAcmM,GAAWO,QAGjDpE,EAAQ,SAACtI,GAAW,IACrBmM,EAAqCnM,EAArCmM,MAAuBO,GAAc1M,EAA9BoM,KAA8BpM,EAAxB2M,MADO,YACiB3M,EADjB,2BAE5B,OAAQ,cAACkM,EAAD,2BAAkBlM,GAAlB,aAAyB,iDAAWmM,GAAWO,QAG9CjE,EAAc,SAACL,EAAa/C,EAAMuH,EAAYvE,GAAhC,IAA2CrI,EAA3C,uDAAmD,GAAIoF,EAAvD,uDAA8D,GAA9D,OACvB,gCACI,cAAC,IAAD,aAAOgD,YAAaA,EAAa/C,KAAMA,EAChCkD,SAAUqE,EACVvE,UAAWA,GACPrI,IAJf,IAKQoF,O,gCCnCG,UAA0B,6C,yBCW1BgB,IAPC,SAACpG,GACb,OAAO,8BACH,qBAAKgF,IAAK6H,EAAW5I,UAAWC,IAAO2I,gB,mBCL/CvN,EAAOC,QAAU,CAAC,UAAY,6BAA6B,WAAa,8BAA8B,aAAe,gCAAgC,KAAO,wBAAwB,KAAO,0B,mBCA3LD,EAAOC,QAAU,CAAC,YAAc,kCAAkC,MAAQ,4BAA4B,iBAAmB,yC,gCCDzH,oEAAO,IAAMiJ,EAAW,SAAAsE,GACpB,IAAGA,EAEH,MAAO,qBAMEC,EAAmB,SAACC,GAAD,OAAe,SAACF,GAC5C,GAAGA,EAAMjE,OAASmE,EAAW,MAAM,iBAAN,OAAwBA,EAAxB,gB,gCCVlB,QAA0B,qC,uSCGnCC,EAAW,WACXC,EAAmB,mBACnBC,EAAa,aACbC,EAAc,cACdC,EAAqB,qBAGvB3L,EAAe,CACX4L,MAAO,CACH,CAAEtK,GAAI,EAAG2F,QAAS,mBAAoB4E,KAAM,IAC5C,CAAEvK,GAAI,EAAG2F,QAAS,qBAAuB4E,KAAM,KAEnD5O,QAAS,KACTR,OAAQ,IAsDHqP,EAAuB,SAACC,GAAD,MAAkB,CAAEzL,KAAMiL,EAAUQ,gBAE3DC,EAAY,SAACvP,GAAD,MAAa,CAAC6D,KAAMmL,EAAYhP,WAI5CwP,EAAiB,SAAClQ,GAAD,8CAAY,WAAO6E,GAAP,eAAAG,EAAA,sEAEjBzF,IAASa,WAAWJ,GAFH,OAElCH,EAFkC,OAGnCgF,GARwB3D,EAQArB,EAASC,KARI,CAACyE,KAAMkL,EAAkBvO,aAK3B,iCALZ,IAACA,IAKW,OAAZ,uDAOjBV,EAAY,SAACR,GAAD,8CAAY,WAAO6E,GAAP,eAAAG,EAAA,sEACXzE,IAAWC,UAAUR,GADV,OAC7BH,EAD6B,OAE9BgF,EAASoL,EAAUpQ,EAASC,OAFE,2CAAZ,uDAMZW,EAAe,SAACC,GAAD,8CAAY,WAAOmE,GAAP,SAAAG,EAAA,+EAIdzE,IAAWE,aAAaC,GAJV,OAKC,IALD,OAKnBZ,KAAKmF,YACdJ,EAASoL,EAAUvP,IANS,uGAAZ,uDAcfE,EAAY,SAACuP,GAAD,8CAAU,WAAOtL,GAAP,eAAAG,EAAA,sEACTzE,IAAWK,UAAUuP,GADZ,OAEM,KADjCtQ,EAD2B,QAEdC,KAAKmF,YACdJ,GAhCqB2C,EAgCK3H,EAASC,KAAKA,KAAK0H,OAhCZ,CAACjD,KAAMqL,EAAoBpI,YA6BrC,iCA7BH,IAACA,IA6BE,OAAV,uDAMZvG,EAAc,SAACC,GAAD,8CAAa,WAAO2D,EAAUuL,GAAjB,iBAAApL,EAAA,6DAC/BhF,EAASoQ,IAAWlO,KAAKlC,OADM,SAEZO,IAAWK,UAAUM,GAFT,UAGC,KAD/BrB,EAF8B,QAGnBC,KAAKmF,WAHc,gBAI5BJ,EAASqL,EAAelQ,IAJI,8BAM5B6E,EAAUwG,YAAW,eAAgB,CAACC,OAAQzL,EAASC,KAAKqL,SAAS,MANzC,kBAOrBgD,QAAQkC,OAAOxQ,EAASC,KAAKqL,SAAS,KAPjB,4CAAb,yDAWZe,IArGQ,WAAmC,IAAlClK,EAAiC,uDAAzBiC,EAAckB,EAAW,uCAGrD,OAAQA,EAAOZ,MAEX,KAAKiL,EACD,IAAIc,EAAU,CACV/K,GAAI,EACJ2F,QAAS/F,EAAO6K,YAChBF,KAAM,GAEV,OAAO,2BACA9N,GADP,IAEI6N,MAAM,GAAD,mBAAM7N,EAAM6N,OAAZ,CAAmBS,IACxBN,YAAa,KAIrB,KAAKP,EACD,kCACOzN,GADP,IAEId,QAASiE,EAAOjE,UAIxB,KAAKwO,EACD,kCACO1N,GADP,IAEItB,OAAQyE,EAAOzE,SAIvB,KAAKiP,EACD,kCACO3N,GADP,IAEI6N,MAAO7N,EAAM6N,MAAMvK,QAAQ,SAAAuB,GAAC,OAAIA,EAAEtB,IAAMJ,EAAOI,QAIvD,KAAKqK,EACD,kCACO5N,GADP,IAEId,QAAQ,2BAAKc,EAAMd,SAAZ,IAAqBsG,OAAQrC,EAAOqC,WAGnD,QACI,OAAOxF,K,qFCjEbuO,EAAe,eAEjBtM,EAAe,CACfuM,QAAS,CAEL,CAAEjL,GAAI,EAAGqC,KAAM,WACf,CAAErC,GAAI,EAAGqC,KAAM,SACf,CAAErC,GAAI,EAAGqC,KAAM,OACf,CAAErC,GAAI,EAAGqC,KAAM,UAGnBuD,SAAU,CAEN,CAAE5F,GAAI,EAAG2F,QAAS,gBAClB,CAAE3F,GAAI,EAAG2F,QAAS,gBAClB,CAAE3F,GAAI,EAAG2F,QAAS,mCAsBbuF,EAAqB,SAACC,GAAD,MAAqB,CAAEnM,KAAM,eAAgBmM,mBAEhEtE,IAnBQ,WAAmC,IAAlCpK,EAAiC,uDAAzBiC,EAAckB,EAAW,uCACrD,OAAQA,EAAOZ,MACX,KAAKgM,EACD,IAAII,EAAOxL,EAAOuL,eAClB,OAAO,2BACA1O,GADP,IAEImJ,SAAS,GAAD,mBAAMnJ,EAAMmJ,UAAZ,CAAsB,CAAE5F,GAAI,EAAG2F,QAASyF,OAGxD,QACI,OAAO3O,M","file":"static/js/main.c483f250.chunk.js","sourcesContent":["import * as axios from 'axios';\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    headers: { \"API-KEY\": \"008664cb-23c6-4b8d-9012-5ff37a31af39\" }\r\n});\r\n\r\nexport const usersAPI = {\r\n    getUsers(currentPage = 1, pageSize = 10) {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`).then(response => {\r\n            return response.data\r\n        });\r\n    },\r\n    follow(userId){\r\n    return  instance.post(`follow/${userId}`);\r\n    },\r\n    unfollow(userId){\r\n      return instance.delete(`follow/${userId}`);\r\n    },\r\n    getProfile(userId){\r\n        console.warn('Obsolete method. Please profileAPI object.')\r\n        return profileAPI.getProfile(userId);\r\n        }\r\n}\r\n\r\n\r\nexport const profileAPI = {\r\n    getProfile(userId){\r\n        return instance.get(`profile/` + userId);\r\n    },\r\n    getStatus (userId){\r\n        return instance.get(`profile/status/` + userId);\r\n    },\r\n    updateStatus(status){\r\n        return instance.put(`profile/status`, {status: status});\r\n    },\r\n    savePhoto(photoFile){\r\n        const formData = new FormData();\r\n        formData.append(\"image\", photoFile);\r\n        return instance.put(`profile/photo`, formData, {headers:{\r\n            'Content-Type': 'multipart/form-data'\r\n        }});\r\n    },\r\n    saveProfile(profile){\r\n        return instance.put(`profile`, profile);\r\n    }\r\n}\r\n\r\n\r\n\r\nexport const authAPI = {\r\n    me() {\r\n        return instance.get(`auth/me`);\r\n    },\r\n    login(email, password, rememberMe = false, captcha= null) {\r\n        return instance.post(`auth/login`, { email, password, rememberMe, captcha });\r\n    },\r\n    logout() {\r\n        return instance.delete(`auth/login`);\r\n    }\r\n\r\n}\r\n\r\nexport const securityAPI = {\r\n    getCaptchaUrl() {\r\n        return instance.get(`security/get-captcha-url`);\r\n    }\r\n}\r\n\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloader\":\"preloader_preloader__BOwYE\"};","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nlet mapStateToPropsForRedirect = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n});\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if (!this.props.isAuth) return <Redirect to='/login' />\r\n\r\n            return <Component {...this.props} />\r\n\r\n        }\r\n    }\r\n\r\n    let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent);\r\n\r\n\r\n    return ConnectedAuthRedirectComponent;\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Nav_nav__3dC0x\",\"item\":\"Nav_item__2PRDz\",\"active\":\"Nav_active__pcpKv\",\"itemButton\":\"Nav_itemButton__1-S3H\",\"login\":\"Nav_login__25HI3\",\"header\":\"Nav_header__2mblf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userPhoto\":\"users_userPhoto__TfFrf\",\"home\":\"users_home__15FJj\",\"userProfile\":\"users_userProfile__3yWfo\",\"followUnfollow\":\"users_followUnfollow__11Nbq\",\"button\":\"users_button__26geI\",\"text\":\"users_text__1COFn\"};","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","export const updateObjectInArray = (items,itemId, objectPropName, newObjProps) => {\r\n  return items.map(u => {\r\n        if (u[objectPropName] === itemId) {\r\n            return { ...u, newObjProps}\r\n        }\r\n        return u;\r\n    })\r\n}","import { usersAPI } from '../api/api';\r\nimport { updateObjectInArray } from '../utils/validators/object-helpers';\r\nconst FOLLOW = 'FOLLOW';\r\nconst UNFOLLOW = 'UNFOLLOW';\r\nconst SET_USERS = 'SET_USERS';\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE';\r\nconst SET_TOTAL_USERS_COUNT = 'SET_TOTAL_USERS_COUNT';\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING';\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE_IS_FOLLOWING_PROGRESS';\r\n\r\nlet initialState = {\r\n    users: [],\r\n    pageSize: 1,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: true,\r\n    followingInProgress: []\r\n};\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, \"id\", {followed: true})\r\n            }\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                users:  updateObjectInArray(state.users, action.userId, \"id\", {followed: false})\r\n            }\r\n        case SET_USERS: {\r\n            return { ...state, users: action.users }\r\n        }\r\n        case SET_CURRENT_PAGE: {\r\n            return { ...state, currentPage: action.currentPage }\r\n        }\r\n        case SET_TOTAL_USERS_COUNT: {\r\n            return { ...state, totalUsersCount: action.count }\r\n        }\r\n\r\n        case TOGGLE_IS_FETCHING: {\r\n            return { ...state, isFetching: action.isFetching }\r\n        }\r\n\r\n        case TOGGLE_IS_FOLLOWING_PROGRESS: {\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.isFetching\r\n                    ? [...state.followingInProgress, action.userId]\r\n                    : state.followingInProgress.filter(id => id != action.userId)\r\n            }\r\n        }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\nexport const followSuccess = (userId) => ({ type: FOLLOW, userId })\r\nexport const unfollowSuccess = (userId) => ({ type: UNFOLLOW, userId })\r\nexport const setUsers = (users) => ({ type: SET_USERS, users })\r\nexport const setCurrentPage = (currentPage) => ({ type: SET_CURRENT_PAGE, currentPage })\r\nexport const setUsersTotalCount = (totalUsersCount) => ({ type: SET_TOTAL_USERS_COUNT, count: totalUsersCount })\r\nexport const toggleIsFetching = (isFetching) => ({ type: TOGGLE_IS_FETCHING, isFetching })\r\nexport const toggleFollowingProgress = (isFetching, userId) => ({ type: TOGGLE_IS_FOLLOWING_PROGRESS, isFetching, userId })\r\n\r\n\r\nexport const getUsers = (page, pageSize) => {\r\n    return async (dispatch) => {\r\n        dispatch(toggleIsFetching(true));\r\n        dispatch(setCurrentPage(page));\r\n        let data = await usersAPI.getUsers(page, pageSize);\r\n        dispatch(toggleIsFetching(false));\r\n        dispatch(setUsers(data.items));\r\n        dispatch(setUsersTotalCount(data.totalCount));\r\n\r\n    }\r\n}\r\n\r\n\r\nconst followUnfollowFlow =  async (dispatch, userId,apiMethod,actionCreator) => {\r\n    dispatch(toggleFollowingProgress(true, userId));\r\n    let response = await apiMethod(userId);\r\n\r\n    if (response.data.resultCode == 0) {\r\n        dispatch(actionCreator(userId));\r\n    }\r\n    dispatch(toggleFollowingProgress(false, userId));\r\n\r\n}\r\n\r\n\r\nexport const follow = (userId) => {\r\n    return async (dispatch) => {\r\n        followUnfollowFlow(dispatch,userId, usersAPI.follow.bind(usersAPI), followSuccess);\r\n    }\r\n}\r\n\r\nexport const unfollow = (userId) => {\r\n    return async (dispatch) => {\r\n        followUnfollowFlow(dispatch,userId, usersAPI.unfollow.bind(usersAPI), unfollowSuccess);\r\n\r\n    }\r\n}\r\n\r\n\r\nexport default usersReducer;","\r\nimport styles from '../Paginator/Paginator.module.css';\r\nimport React, { useState } from 'react';\r\nimport cn from 'classnames';\r\n\r\nlet Paginator = ({ totalItemsCount, pageSize, currentPage, onPageChanged, portionSize = 3 }) => {\r\n    let pagesCount = Math.ceil(totalItemsCount / pageSize);\r\n    let pages = [];\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i);\r\n    }\r\n\r\n\r\n    let portionCount = Math.ceil(pagesCount / portionSize);\r\n    let [portionNumber, setPortionNumber] = useState(1);\r\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n    let rightPortionPageNumber = portionNumber * portionSize;\r\n\r\n\r\n    return <div className={styles.paginator}>\r\n        {portionNumber > 1 &&\r\n            <button onClick={() => { setPortionNumber(portionNumber - 1) }} className={styles.back}>Back</button>}\r\n\r\n        {pages\r\n            .filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n            .map((p) => {\r\n                return <span className={cn({\r\n                    [styles.selectedPage]: currentPage === p\r\n                }, styles.pageNumber)}\r\n                    key={p}\r\n                    onClick={(e) => {\r\n                        onPageChanged(p);\r\n                    }}>{p}</span>\r\n            })}\r\n        {portionCount > portionNumber &&\r\n            <button onClick={() => { setPortionNumber(portionNumber + 1) }} className={styles.next}>Next</button>}\r\n\r\n\r\n    </div>\r\n\r\n}\r\n\r\nexport default Paginator;","import React from 'react';\r\nimport styles from './users.module.css';\r\nimport userPhoto from '../../assets/images/Killjoy.png';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\n\r\n\r\nlet User = ({user,followingInProgress,unfollow,follow}) => {\r\n\r\n    return (<div className={styles.home}>\r\n                <span>\r\n                    <div className={styles.userProfile}>\r\n                        <NavLink to={'/profile/' + user.id}>\r\n                            <img src={user.photos.small != null ? user.photos.small : userPhoto} className={styles.userPhoto} />\r\n                        </NavLink>\r\n\r\n                        <span>\r\n                            <div className={styles.text}>\r\n                        <div>{user.name}</div>\r\n                        <div>{user.status}</div>\r\n                        </div>\r\n                    </span>\r\n\r\n                        <div className={styles.followUnfollow}>\r\n                    {user.followed\r\n                            ? <button disabled={followingInProgress\r\n                                .some(id => id === user.id)} onClick={() => {unfollow(user.id);}} className={styles.button}>Unfollow</button>\r\n                            : <button disabled={followingInProgress\r\n                                .some(id => id === user.id)} onClick={() => {follow(user.id);}} className={styles.button}>Follow</button>}\r\n                    </div>\r\n\r\n                    \r\n\r\n                    </div>\r\n                   \r\n                </span>\r\n\r\n            \r\n            </div>\r\n           )\r\n}\r\n\r\nexport default User;","import React from 'react';\r\nimport styles from './users.module.css';\r\nimport userPhoto from '../../assets/images/Killjoy.png';\r\nimport { NavLink } from 'react-router-dom';\r\nimport Paginator from '../common/Paginator/Paginator';\r\nimport User from './User';\r\n\r\n\r\nlet Users = ({currentPage,totalUsersCount,pageSize, onPageChanged,users,...props}) => {\r\n\r\n    return <div>\r\n    \r\n        \r\n        <div>\r\n        {\r\n           users.map(u => <User user={u} \r\n           followingInProgress = {props.followingInProgress}\r\n            unfollow={props.unfollow}\r\n            follow={props.follow}\r\n           key={u.id}/> \r\n               )\r\n\r\n        }\r\n <Paginator currentPage={currentPage} \r\n        onPageChanged={onPageChanged}\r\n        totalItemsCount={totalUsersCount} \r\n        pageSize={pageSize}\r\n\r\n        />\r\n\r\n        </div>\r\n        \r\n    </div>\r\n}\r\n\r\nexport default Users;","import { createSelector } from \"reselect\";\r\n\r\nexport const getUsersSelector = (state) => {\r\n    return state.usersPage.users;\r\n}\r\n\r\nexport const getusersUsers = createSelector (getUsersSelector, (users) => {\r\n  return users.filter(u => true);\r\n})\r\n\r\n\r\n\r\n\r\nexport const getPageSize = (state) => {\r\n    return state.usersPage.pageSize;\r\n}\r\n\r\nexport const getTotalUsersCount = (state) => {\r\n    return state.usersPage.totalUsersCount;\r\n}\r\nexport const getCurrentPage = (state) => {\r\n    return state.usersPage.currentPage;\r\n}\r\n\r\nexport const getIsFetching = (state) => {\r\n    return state.usersPage.isFetching;\r\n}\r\nexport const getFollowingInProgress = (state) => {\r\n    return state.usersPage.followingInProgress;\r\n}\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { follow, setCurrentPage, unfollow, toggleFollowingProgress, getUsers } from '../../redux/users-reducer';\r\nimport Users from './Users';\r\nimport Preloader from '../common/Preloader/Preloader';\r\nimport { compose } from 'redux';\r\nimport { withAuthRedirect } from '../../hoc/withAuthRedirect';\r\nimport {getFollowingInProgress, getPageSize, getTotalUsersCount,getCurrentPage, getIsFetching, getusersUsers} from '../../redux/users-selectors';\r\n\r\nclass UsersContainer extends React.Component {\r\n\r\n    componentDidMount() {\r\n\r\n        const {currentPage, pageSize} = this.props;\r\n        this.props.getUsers(currentPage, pageSize);\r\n    }\r\n\r\n    onPageChanged = (pageNumber) => {\r\n        const {pageSize} = this.props;\r\n        this.props.getUsers(pageNumber, pageSize);\r\n    }\r\n\r\n    render() {\r\n        return <>\r\n            {this.props.isFetching ? <Preloader /> : null}\r\n            <Users totalUsersCount={this.props.totalUsersCount}\r\n                pageSize={this.props.pageSize}\r\n                currentPage={this.props.currentPage}\r\n                onPageChanged={this.onPageChanged}\r\n                users={this.props.users}\r\n                follow={this.props.follow}\r\n                unfollow={this.props.unfollow}\r\n                followingInProgress={this.props.followingInProgress}\r\n            />\r\n        </>\r\n    }\r\n}\r\n\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        users: getusersUsers(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state)\r\n    }\r\n}\r\n\r\nexport default compose(\r\n   // withAuthRedirect,\r\n    connect(mapStateToProps, {\r\n        follow,\r\n        unfollow,\r\n        setCurrentPage,\r\n        toggleFollowingProgress,\r\n        getUsers\r\n\r\n    }))(UsersContainer);","import {authAPI, securityAPI} from '../api/api';\r\nimport { stopSubmit } from 'redux-form';\r\nconst SET_USER_DATA = 'web-sovellus/auth/SET_USER_DATA';\r\nconst GET_CAPTCHA_URL_SUCCESS = 'web-sovellus/auth/GET_CAPTCHA_URL_SUCCESS';\r\n\r\n\r\nlet initialState = {\r\n    userId: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false,\r\n    captchaUrl: null // if null, then captcha is not required\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n    switch(action.type) {\r\n        case SET_USER_DATA:\r\n            case GET_CAPTCHA_URL_SUCCESS:\r\n            return {\r\n                ...state,\r\n                ...action.payload\r\n            }\r\n            \r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\nexport const setAuthUserData = (userId, email, login, isAuth) => ({ type: SET_USER_DATA, payload: { userId, email, login, isAuth } })\r\nexport const getCaptchaUrlSuccess = (captchaUrl) => ({ type: GET_CAPTCHA_URL_SUCCESS, payload: { captchaUrl } })\r\nexport const getAuthUserData = () => async (dispatch) => {\r\n    let response = await authAPI.me();\r\n\r\n    if (response.data.resultCode === 0) {\r\n        let { id, email, login } = response.data.data;\r\n        dispatch(setAuthUserData(id, email, login, true));\r\n    }\r\n\r\n}\r\n\r\nexport const login = (email, password, rememberMe, captcha) => async (dispatch) =>{\r\n\r\n    let response = await  authAPI.login(email,password,rememberMe, captcha);\r\n  \r\n        if(response.data.resultCode === 0){\r\n            dispatch(getAuthUserData());\r\n        }else{\r\n            if (response.data.resultCode === 10){\r\n                    dispatch(getCaptchaUrl());\r\n            }\r\n    \r\n            let message =response.data.messages.length > 0  ? response.data.messages[0] : \"Some error\";\r\n            dispatch( stopSubmit(\"login\", {_error: message}));\r\n        }\r\n    \r\n}\r\n\r\nexport const getCaptchaUrl = () => async (dispatch) => {\r\n\r\n    let response = await securityAPI.getCaptchaUrl();\r\n    const captchaUrl = response.data.url;\r\n    dispatch(getCaptchaUrlSuccess(captchaUrl));\r\n\r\n\r\n}\r\n\r\n\r\nexport const logout = () => async (dispatch) =>{\r\n    let response = await  authAPI.logout();\r\n    \r\n        if(response.data.resultCode === 0){\r\n            dispatch(setAuthUserData(null,null,null, false));\r\n        }\r\n    \r\n}\r\n\r\n\r\nexport default authReducer;","export default __webpack_public_path__ + \"static/media/logo.549f01d3.png\";","import classes from './Nav.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\nimport photo from '../../assets/images/logo.png';\r\n\r\nconst Nav = (props) => {\r\n    return (\r\n<nav className={classes.nav}>\r\n\r\n<div className={classes.header}>\r\n<img src={photo}></img>\r\n</div>\r\n\r\n  <div className={classes.item}>\r\n    <NavLink to='/profile' activeClassName={classes.active}>Profile</NavLink>\r\n  </div>\r\n  <div className={classes.item}>\r\n    <NavLink to='/dialogs' activeClassName={classes.active}>Messages</NavLink>\r\n  </div>\r\n  <div className={classes.item}>\r\n    <NavLink to='/users' activeClassName={classes.active}>Users</NavLink>\r\n  </div>\r\n  <div className={classes.item}>\r\n    <a>News</a>\r\n  </div>\r\n  <div className={classes.item}>\r\n    <a>Music</a>\r\n  </div>\r\n\r\n  <div className={classes.item}>\r\n    <a>Settings</a>\r\n  </div>\r\n\r\n\r\n  <div className={classes.itemButton}>\r\n\r\n      {props.isAuth \r\n      ? <div>{props.login} - <button onClick={props.logout}>Log out</button></div> \r\n      : <NavLink to={'/login'} className={classes.login}>Sign In</NavLink> }\r\n\r\n    </div>\r\n</nav>\r\n\r\n\r\n    );\r\n}\r\n\r\nexport default Nav;","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {logout } from '../../redux/auth-reducer';\r\nimport Nav from './Nav';\r\n\r\nclass NavContainer extends React.Component{\r\n\r\n    render() {\r\n        return <Nav {...this.props} />\r\n    }\r\n}\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n    login:  state.auth.login\r\n\r\n});\r\n\r\nexport default connect(mapStateToProps, {logout}) (NavContainer);","import React from 'react';\r\nimport { Field, reduxForm } from 'redux-form';\r\nimport { createField, Input } from '../common/FormsControls/FormsControls';\r\nimport { maxLengthCreator, required } from '../../utils/validators/validators';\r\nimport { connect } from 'react-redux';\r\nimport {login} from \"../../redux/auth-reducer\"\r\nimport { Redirect } from 'react-router-dom';\r\nimport styles from './Login.module.css';\r\nimport photo from '../../assets/images/logo.png';\r\nimport classes from '../common/FormsControls/FormControls.module.css';\r\n\r\nconst LoginForm = ({handleSubmit, error, captchaUrl }) => {\r\n\r\n    return (\r\n\r\n        <form  onSubmit={handleSubmit} className={styles.formCard}>\r\n        <div>\r\n            {/* {createField(\"Email\", \"email\", [required], Input)} */}\r\n           <Field className={styles.email} placeholder={\"Email\"} name={\"email\"} component={Input} validate={[required]}/>\r\n        </div>\r\n        <div>\r\n            <Field className={styles.email} placeholder={\"Password\"} name={\"password\"} type={\"password\"} component={Input} validate={[required]}/>\r\n        </div>\r\n        <div>\r\n            <Field  component={Input} name={\"rememberMe\"}type={\"checkbox\"} /> <h3>remember me</h3>\r\n        </div>\r\n        {captchaUrl && <img src={captchaUrl}/>}\r\n\r\n        {captchaUrl &&  createField(\"Symbols from image\", \"captcha\", [required], Input, {})}\r\n\r\n\r\n        {error && <div className={classes.formSummaryError}>\r\n                {error}\r\n        </div> \r\n        }\r\n        <div>\r\n            <button>Sign in</button>\r\n        </div>\r\n    </form>\r\n    )\r\n}\r\n\r\nconst LoginReduxForm = reduxForm({\r\n    // a unique name for form\r\n    form: 'login'\r\n})(LoginForm)\r\n\r\nconst Login = (props) => {\r\n    const onSubmit= (formData) =>{\r\n        props.login(formData.email, formData.password, formData.rememnerMe, formData.captcha)\r\n    }\r\n\r\n    if(props.isAuth){\r\n        return <Redirect to={\"/profile\"} />\r\n    }\r\n    return <div className={styles.formBack}>  \r\n\r\n    <div className={styles.form}>\r\n        <div className={styles.img}>\r\n            <img src={photo}></img>\r\n        </div>\r\n   \r\n        <h1>Sign in.</h1>\r\n\r\n        <LoginReduxForm onSubmit={onSubmit} captchaUrl={props.captchaUrl}/>\r\n\r\n    </div>\r\n    \r\n    </div>\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    captchaUrl: state.auth.captchaUrl,\r\n    isAuth: state.auth.isAuth\r\n})\r\n\r\nexport default connect(mapStateToProps, {login} ) (Login);","\r\nimport {getAuthUserData} from '../redux/auth-reducer';\r\n\r\nconst INITIALIZED_SUCCESS = 'INITIALIZED_SUCCESS';\r\n\r\n\r\nlet initialState = {\r\n    initialized: false,\r\n    globalError: null\r\n};\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n    switch(action.type) {\r\n        case INITIALIZED_SUCCESS:\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\nexport const initializedSuccess = () => ({type: INITIALIZED_SUCCESS})\r\n\r\nexport const initializeApp = () => (dispatch) =>{\r\n   let promise = dispatch(getAuthUserData());\r\n    \r\n   Promise.all([promise]).then(() =>{\r\n\r\n    dispatch(initializedSuccess());\r\n\r\n});\r\n    \r\n}\r\n\r\nexport default appReducer;","\r\nlet initialState = {\r\n\r\n};\r\n\r\nconst navReducer = (state = initialState,action) =>{\r\n    return state;\r\n}\r\n\r\nexport default navReducer;","import {applyMiddleware, combineReducers, compose, createStore} from 'redux';\r\nimport profileReducer from './profile-reducer';\r\nimport dialogsReducer from './dialogs-reducer';\r\nimport navReducer from './nav-reducer';\r\nimport usersReducer from './users-reducer';\r\nimport authReducer from './auth-reducer';\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport {reducer as formReducer} from 'redux-form';\r\nimport appReducer from './app-reducer';\r\n\r\n\r\nlet reducers = combineReducers({\r\n    profilePage:  profileReducer,\r\n    dialogsPage: dialogsReducer,\r\n    sidebar: navReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app: appReducer\r\n});\r\n\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store= createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n\r\n// let store = createStore(reducers, applyMiddleware(thunkMiddleware));\r\n\r\nwindow.__store__ = store;\r\nexport default store;","import React, { Suspense } from \"react\";\r\nimport Preloader from \"../components/common/Preloader/Preloader\";\r\n\r\n\r\nexport const withSuspense = (Component) => {\r\n\r\n    return (props) => {\r\nreturn <Suspense  fallback={<Preloader />}>\r\n    <Component {...props} />\r\n    </Suspense>\r\n    };\r\n}","import './App.css';\nimport { HashRouter, Route, withRouter } from 'react-router-dom';\nimport {Redirect, Switch} from 'react-router';\nimport React, { Suspense } from 'react';\nimport UsersContainer from './components/Users/UsersContainer';\nimport HeaderContainer from './components/Navbar/NavContainer';\nimport LoginPage from './components/Login/Login';\nimport { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { initializeApp, initialized } from './redux/app-reducer';\nimport { compose } from 'redux';\nimport Preloader from './components/common/Preloader/Preloader';\nimport { Provider } from 'react-redux';\nimport store from './redux/redux-store';\nimport { BrowserRouter } from \"react-router-dom\";\nimport { withSuspense } from './hoc/withSuspense';\n\n\nconst DialogsContainer =React.lazy(() => import ('./components/Dialogs/DialogsContainer'));\nconst ProfileContainer =React.lazy(() => import ('./components/Profile/ProfileContainer'));\n\nclass App extends Component {\ncatchAllUnhandledErrors = (reason, promise)=>{\n  alert(\"Some error occured\");\n  console.error(PromiseRejectionEvent);\n}\n  componentDidMount() {\n    this.props.initializeApp();\n    window.addEventListener(\"unhandledrejection\", this.catchAllUnhandledErrors);\n  }\ncomponentWillUnmount(){\n  window.removeEventListener(\"unhandledrejection\", this.catchAllUnhandledErrors);\n}\n\n  render() {\n    if (!this.props.initialized) {\n      return <Preloader />\n    }\n\n\n    return (\n\n\n      <div className='app-wrapper'>\n\n        <HeaderContainer />\n\n        <div className='app-wrapper-content'>\n          <Switch>\n\n          <Route exact path='/' render={() => <Redirect to={\"/profile\"} />} />\n\n          <Route path='/dialogs' render={withSuspense(DialogsContainer) } />\n\n          <Route path='/profile/:userId?' render={withSuspense(ProfileContainer)} />\n\n          <Route path='/users' render={() => <UsersContainer />} />\n\n          <Route path='/login' render={() => <LoginPage />} />\n\n          <Route path='*' render={() => <div>404 NOT FOUND</div>} />\n          </Switch>\n        </div>\n\n      </div>\n\n    );\n\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  initialized: state.app.initialized\n})\n\n\nconst AppContainer=  compose(\nwithRouter,\nconnect(mapStateToProps, { initializeApp }))(App);\n\nconst WebSovellusJSApp = (props) =>{\n  return <BrowserRouter>\n  <Provider store={store}>\n    <AppContainer />\n  </Provider>\n</BrowserRouter>\n}\n\nexport default WebSovellusJSApp;","\nimport reportWebVitals from './reportWebVitals';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport WebSovellusJSApp from './App';\n\n\n\nReactDOM.render(\n  <WebSovellusJSApp />, document.getElementById('root')\n);\n\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formBack\":\"Login_formBack__1ijlY\",\"form\":\"Login_form__1Ao0R\",\"img\":\"Login_img__1Uzq-\",\"formCard\":\"Login_formCard__tsSAW\",\"email\":\"Login_email__39LaY\"};","import React from 'react';\r\nimport { Field } from 'redux-form';\r\nimport styles from './FormControls.module.css';\r\n\r\n\r\nconst FormControl = ({ input, meta: {touched, error }, children }) => {\r\n    const hasError = touched && error;\r\n    return (\r\n        <div className={styles.formControl + \" \" + (hasError ? styles.error : \" \")}>\r\n            <div>\r\n                {children}\r\n            </div>\r\n            {hasError && <span>{error}</span>}\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Textarea = (props) => {\r\n\r\n    const { input, meta, child, ...restProps } = props;\r\n    return (<FormControl  {...props}><textarea {...input} {...restProps} /></FormControl>)\r\n}\r\n\r\nexport const Input = (props) => {\r\n    const { input, meta, child, ...restProps } = props;\r\n    return (<FormControl  {...props}><input {...input} {...restProps} /></FormControl>)\r\n}\r\n\r\nexport const createField = (placeholder, name, validators, component, props = {}, text = \"\") => (\r\n    <div>\r\n        <Field placeholder={placeholder} name={name}\r\n               validate={validators}\r\n               component={component}\r\n               {...props}\r\n        /> {text}\r\n    </div>)","export default __webpack_public_path__ + \"static/media/loader_backinout.3e17615e.gif\";","import preloader from '../../../assets/images/loader_backinout.gif';\r\nimport styles from './preloader.module.css';\r\n\r\n\r\nlet Preloader = (props) => {\r\n    return <div>\r\n        <img src={preloader} className={styles.preloader}/>\r\n    </div>\r\n}\r\n\r\n\r\nexport default Preloader;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"Paginator_paginator__2h2AG\",\"pageNumber\":\"Paginator_pageNumber__zj9Gk\",\"selectedPage\":\"Paginator_selectedPage__1c_5N\",\"back\":\"Paginator_back__1gmtv\",\"next\":\"Paginator_next__1ClYI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormControls_formControl__EDQ4Y\",\"error\":\"FormControls_error__W31wb\",\"formSummaryError\":\"FormControls_formSummaryError__1NvXo\"};","export const required = value => {\r\n    if(value) return undefined;\r\n\r\n    return 'Field is required';\r\n   \r\n}\r\n\r\n\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n    if(value.length > maxLength) return `Max lenght is ${maxLength}  symbols`;\r\n    return undefined;\r\n}\r\n","export default __webpack_public_path__ + \"static/media/Killjoy.f1d20e3b.png\";","import { stopSubmit } from 'redux-form';\r\nimport { profileAPI, usersAPI } from '../api/api';\r\n\r\nconst ADD_POST = 'ADD_POST';\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\r\nconst SET_STATUS = 'SET_STATUS';\r\nconst DELETE_POST = 'DELETE_POST';\r\nconst SAVE_PHOTO_SUCCESS = 'SAVE_PHOTO_SUCCESS';\r\n\r\n\r\nlet initialState = {\r\n        posts: [\r\n            { id: 1, message: 'Hi, how are you?', like: 12 },\r\n            { id: 2, message: 'It\\'s my first post', like: 15 }\r\n        ],\r\n        profile: null,\r\n        status: ''\r\n}\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n\r\n\r\n    switch (action.type) {\r\n\r\n        case ADD_POST: {\r\n            let newPost = {\r\n                id: 5,\r\n                message: action.newPostText,\r\n                like: 0\r\n            };\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, newPost],\r\n                newPostText: ''\r\n            }\r\n        }\r\n    \r\n        case SET_USER_PROFILE :{\r\n            return{\r\n                ...state,\r\n                profile: action.profile\r\n            }\r\n\r\n        }\r\n        case SET_STATUS:{\r\n            return{\r\n                ...state,\r\n                status: action.status\r\n            }\r\n        }\r\n\r\n        case DELETE_POST:{\r\n            return{\r\n                ...state,\r\n                posts: state.posts.filter( p => p.id != action.id)\r\n            }\r\n        }\r\n\r\n        case SAVE_PHOTO_SUCCESS:{\r\n            return{\r\n                ...state,\r\n                profile: {...state.profile, photos: action.photos}\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n\r\n}\r\n\r\nexport const addPostActionCreator = (newPostText) => ({ type: ADD_POST, newPostText })\r\nexport const setUserProfile = (profile) => ({type: SET_USER_PROFILE, profile })\r\nexport const setStatus = (status) => ({type: SET_STATUS, status })\r\nexport const deletePost = (postId) => ({type: DELETE_POST, postId })\r\nexport const savePhotoSuccess = (photos) => ({type: SAVE_PHOTO_SUCCESS, photos })\r\n\r\nexport const getUserProfile = (userId) => async (dispatch) =>{\r\n\r\n    let response = await usersAPI.getProfile(userId);\r\n       dispatch(setUserProfile(response.data));\r\n\r\n}\r\n\r\nexport const getStatus = (userId) => async (dispatch) =>{\r\n    let response = await  profileAPI.getStatus(userId);\r\n       dispatch(setStatus(response.data));\r\n\r\n}\r\n\r\nexport const updateStatus = (status) => async (dispatch) =>{\r\n\r\n\r\n    try{\r\n    let response = await  profileAPI.updateStatus(status);\r\n        if (response.data.resultCode === 0){\r\n            dispatch(setStatus(status));\r\n        }\r\n\r\n}catch(error){\r\n    //\r\n}\r\n}\r\n\r\nexport const savePhoto = (file) => async (dispatch) =>{\r\n    let response = await  profileAPI.savePhoto(file);\r\n        if (response.data.resultCode === 0){\r\n            dispatch(savePhotoSuccess(response.data.data.photos));\r\n        }\r\n}\r\nexport const saveProfile = (profile) => async (dispatch, getState) =>{\r\n   const userId = getState().auth.userId;\r\n    const response = await  profileAPI.savePhoto(profile);\r\n        if (response.data.resultCode === 0){\r\n            dispatch(getUserProfile(userId));\r\n        }else{\r\n            dispatch( stopSubmit(\"edit-profile\", {_error: response.data.messages[0]}));\r\n            return Promise.reject(response.data.messages[0]);\r\n        }\r\n}\r\n\r\nexport default profileReducer;","const SEND_MESSAGE = 'SEND-MESSAGE';\r\n\r\nlet initialState = {\r\n    dialogs: [\r\n\r\n        { id: 1, name: 'Jenifer' },\r\n        { id: 2, name: 'James' },\r\n        { id: 3, name: 'Leo' },\r\n        { id: 4, name: 'Amili' }\r\n\r\n    ],\r\n    messages: [\r\n\r\n        { id: 2, message: 'Hi, Jenifer!' },\r\n        { id: 2, message: 'How are you?' },\r\n        { id: 2, message: 'Would you like to meet today?' }\r\n\r\n    ]\r\n}\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SEND_MESSAGE:\r\n            let body = action.newMessageBody;\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages, { id: 5, message: body } ]\r\n            \r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n\r\n\r\n}\r\n\r\n\r\nexport const sendMessageCreator = (newMessageBody) => ({ type: 'SEND-MESSAGE', newMessageBody })\r\n\r\nexport default dialogsReducer;"],"sourceRoot":""}